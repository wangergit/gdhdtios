{"version":3,"sources":["webpack:///src/views/about/tagging/editor.vue","webpack:///./src/views/about/tagging/editor.vue?0cb3","webpack:///./src/views/about/tagging/editor.vue","webpack:///./src/views/about/tagging/editor.vue?4459"],"names":[],"mappings":"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","file":"static/js/3.js","sourcesContent":["<template>\r\n    <div class=\"tagging-editor\">\r\n        <navigate :title=\"title\" position=\"absolute\">\r\n            <!--<mu-button slot=\"right\" icon>-->\r\n                <!--<mu-icon size=\"18\" value=\"phone\"/>-->\r\n            <!--</mu-button>-->\r\n        </navigate>\r\n        <div class=\"scroll-wrapper\">\r\n            <mu-form :model=\"formTagging\" label-position=\"left\" label-width=\"80\" v-if=\"mode === 'tagging'\">\r\n                <mu-form-item class=\"mn p-15 paper border-1px-b\" label=\"标注名称\" prop=\"title\">\r\n                    <mu-text-field v-model=\"formTagging.title\" placeholder=\"请输入标注名称 ...\" solo/>\r\n                </mu-form-item>\r\n                <mu-form-item class=\"mn p-15 paper\" label=\"类型\" prop=\"type\" @click.native=\"open = true\">\r\n                    <mu-row class=\"mn w h\" align-items=\"center\" justify-content=\"end\">\r\n                        <span class=\"color-primary fz-14\" v-if=\"formTagging.type\">{{type(formTagging.type).name}}</span>\r\n                        <span class=\"color-primary fz-12\" v-else>请选择</span>\r\n                    </mu-row>\r\n                </mu-form-item>\r\n                <mu-form-item class=\"p-15 paper border-1px-t\" label=\"共享\" prop=\"shared\">\r\n                    <mu-row class=\"mn w h\" align-items=\"center\" justify-content=\"end\">\r\n                        <mu-switch v-model=\"formTagging.shared\"/>\r\n                    </mu-row>\r\n                </mu-form-item>\r\n                <mu-form-item class=\"paper\" prop=\"detail\" label-position=\"top\" label-width=\"100%\">\r\n                    <div class=\"p-15 border-1px-b\" slot=\"label\">描述</div>\r\n                    <div class=\"p-15 w\">\r\n                        <mu-text-field v-model=\"formTagging.detail\"\r\n                                       placeholder=\"请输入描述 ...\"\r\n                                       :rows=\"8\"\r\n                                       :max-length=\"300\"\r\n                                       full-width\r\n                                       multi-line\r\n                                       solo/>\r\n                    </div>\r\n                </mu-form-item>\r\n                <mu-button class=\"db ma w90 background-primary mb-30\" color=\"#fff\" data-mu-loading-size=\"24\"\r\n                           v-loading=\"loading\"\r\n                           @click=\"handlerSubmit\"\r\n                           :disabled=\"loading\"\r\n                           flat>提交\r\n                </mu-button>\r\n            </mu-form>\r\n            <mu-form :model=\"formReport\" label-position=\"left\" label-width=\"80\" v-if=\"mode === 'report'\">\r\n                <div class=\"p-15 fz-14\">{{Date.now() | formatDate()}}</div>\r\n                <!--<mu-form-item class=\"mn p-15 paper border-1px-b\" label=\"故障位置\" prop=\"title\">-->\r\n                <!--<mu-text-field v-model=\"formReport.title\" placeholder=\"请输入故障位置 ...\" solo/>-->\r\n                <!--</mu-form-item>-->\r\n                <mu-form-item class=\"mn p-15 paper\" label=\"上报类型\" prop=\"type\" @click.native=\"open = true\">\r\n                    <mu-row class=\"mn w h\" align-items=\"center\" justify-content=\"end\">\r\n                        <span class=\"color-primary fz-14\" v-if=\"formReport.type\">{{type(formReport.type).name}}</span>\r\n                        <span class=\"color-primary fz-12\" v-else>请选择</span>\r\n                    </mu-row>\r\n                </mu-form-item>\r\n                <mu-form-item class=\"mt-20 paper\" prop=\"image\" label-position=\"top\" label-width=\"100%\">\r\n                    <div class=\"p-15 border-1px-b\" slot=\"label\">照片</div>\r\n                    <div class=\"picture-wrapper pt-25\">\r\n                        <div class=\"picture border-1px\" v-if=\"formReport.images.length < 9\" @click=\"handlerPicture\">\r\n                            <mu-icon class=\"append\" value=\"add\"/>\r\n                        </div>\r\n                        <div class=\"picture\" v-for=\"(item, index) in formReport.images\"\r\n                             :style=\"{backgroundImage: `url('${item}')`}\"\r\n                             @click=\"handlerBrowse(index)\">\r\n                            <mu-button class=\"scale-small\" color=\"#f44336\" size=\"16\"\r\n                                       @click.stop=\"deletePicture(item, index)\"\r\n                                       fab>\r\n                                <mu-icon value=\"delete\"/>\r\n                            </mu-button>\r\n                        </div>\r\n                    </div>\r\n                </mu-form-item>\r\n                <mu-form-item class=\"paper\" prop=\"detail\" label-position=\"top\" label-width=\"100%\">\r\n                    <div class=\"p-15 border-1px-b\" slot=\"label\">描述</div>\r\n                    <div class=\"p-15 w\">\r\n                        <mu-text-field v-model=\"formReport.detail\"\r\n                                       placeholder=\"请输入描述信息 ...\"\r\n                                       :rows=\"8\"\r\n                                       :max-length=\"300\"\r\n                                       full-width\r\n                                       multi-line\r\n                                       solo/>\r\n\r\n                    </div>\r\n                </mu-form-item>\r\n                <mu-button class=\"db ma w90 background-primary mb-30\" color=\"#fff\" data-mu-loading-size=\"24\"\r\n                           v-loading=\"loading\"\r\n                           @click=\"handlerSubmit\"\r\n                           :disabled=\"loading\"\r\n                           flat>提交\r\n                </mu-button>\r\n            </mu-form>\r\n        </div>\r\n\r\n        <mu-bottom-sheet class=\"scroll-y mh50\" :open.sync=\"open\" lock-scroll>\r\n            <mu-list @item-click=\"open = false\">\r\n                <mu-list-item v-for=\"(item, index) in types\" :key=\"index\"\r\n                              @click.native=\"handlerToggleType(item.id)\"\r\n                              button>\r\n                    <mu-list-item-action>\r\n                        <mu-icon value=\"room\"\r\n                                 :color=\"formTagging.type === item.id || formReport.type === item.id ? 'orange' : ''\"/>\r\n                    </mu-list-item-action>\r\n                    <mu-list-item-content>\r\n                        <mu-list-item-title>{{item.name}}</mu-list-item-title>\r\n                    </mu-list-item-content>\r\n                </mu-list-item>\r\n            </mu-list>\r\n        </mu-bottom-sheet>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Navigate from \"../../../base/navigate/navigate\"\r\n    import {formatDate} from '../../../common/utils/time'\r\n    import {saveOrUpdateILabel, queryILabelDetail, saveFaultReport} from \"../../../api/personal\"\r\n    import {queryTypeDictByFid} from \"../../../api/search\"\r\n    import {getPictures, getBase64} from \"../../../common/js/cordova/camera\"\r\n    import {uploadBase64} from \"../../../api/sys\"\r\n\r\n    const name = 'SELECTION_and_TAGGING_and_REPORT_EDITOR'\r\n\r\n    export default {\r\n        name,\r\n        data() {\r\n            return {\r\n                open: false,\r\n                loading: false,\r\n                defaultList: [],\r\n                taggingTypes: [],\r\n                reportTypes: [],\r\n                formTagging: {\r\n                    title: \"\",\r\n                    type: \"\",\r\n                    shared: false,\r\n                    detail: \"\",\r\n                    longitude: \"\",\r\n                    latitude: \"\"\r\n                },\r\n                formReport: {\r\n                    images: '',\r\n                    type: '',\r\n                    longitude: \"\",\r\n                    latitude: \"\"\r\n                }\r\n            }\r\n        },\r\n        props: {\r\n            id: {\r\n                type: String,\r\n                default: ''\r\n            },\r\n            longitude: {\r\n                type: [String, Number],\r\n                default: 0\r\n            },\r\n            latitude: {\r\n                type: [String, Number],\r\n                default: 0\r\n            }\r\n        },\r\n        computed: {\r\n            title() {\r\n                if (this.$route.name === 'selection-point') {\r\n                    return '添加标注'\r\n                }\r\n\r\n                if (this.$route.name === 'about-tagging-editor') {\r\n                    return '修改标注'\r\n                }\r\n\r\n                if (this.$route.name === 'selection-report') {\r\n                    return '信息上报'\r\n                }\r\n\r\n                return ''\r\n            },\r\n            mode() {\r\n                if (this.$route.name === 'selection-point') {\r\n                    return 'tagging'\r\n                }\r\n\r\n                if (this.$route.name === 'about-tagging-editor') {\r\n                    return 'tagging'\r\n                }\r\n\r\n                if (this.$route.name === 'selection-report') {\r\n                    return 'report'\r\n                }\r\n\r\n                return ''\r\n            },\r\n            types() {\r\n                switch (this.mode) {\r\n                    case 'tagging':\r\n                        return this.taggingTypes\r\n                    case 'report':\r\n                        return this.reportTypes\r\n                    default:\r\n                        return []\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            queryTypeDictByFid('001').then(res => {\r\n                this.taggingTypes = res\r\n            })\r\n\r\n            queryTypeDictByFid('031').then(res => {\r\n                this.reportTypes = res\r\n            })\r\n        },\r\n        activated() {\r\n            this.formTagging = {\r\n                title: '',\r\n                type: '',\r\n                shared: false,\r\n                image: '',\r\n                detail: '',\r\n                longitude: '',\r\n                latitude: ''\r\n            }\r\n\r\n            this.formReport = {\r\n                images: [],\r\n                type: '',\r\n                longitude: \"\",\r\n                latitude: \"\"\r\n            }\r\n\r\n            if (this.mode === 'tagging' && this.id) {\r\n                queryILabelDetail(this.id).then(res => {\r\n                    this.formTagging = res\r\n                })\r\n            }\r\n\r\n            if (this.mode === 'report' && this.id) {\r\n                this.defaultList = []\r\n            }\r\n        },\r\n        methods: {\r\n            /***\r\n             * 点击选择图片\r\n             */\r\n            handlerPicture() {\r\n                getPictures(9, this.defaultList).then(images => {\r\n                    this.formReport.images = []\r\n                    this.defaultList = []\r\n\r\n                    Array.prototype.forEach.call(images, item => {\r\n                        this.defaultList.push(item.path)\r\n\r\n                        getBase64(item).then(res => {\r\n                            this.formReport.images.push(`data:image/jpeg;base64,${res.thumbnailBase64}`)\r\n                        })\r\n                    })\r\n                })\r\n            },\r\n            /***\r\n             * 点击浏览图片\r\n             */\r\n            handlerBrowse(index) {\r\n                ImagePreview({\r\n                    images: this.images,\r\n                    startPosition: index\r\n                })\r\n            },\r\n            /***\r\n             * 删除图片\r\n             */\r\n            deletePicture(item, index) {\r\n                this.formReport.images.splice(index, 1)\r\n\r\n                this.defaultList.splice(index, 1)\r\n            },\r\n            // 切换类型\r\n            handlerToggleType(typeId) {\r\n                if (this.mode === 'tagging') {\r\n                    this.formTagging.type = typeId\r\n                }\r\n\r\n                if (this.mode === 'report') {\r\n                    this.formReport.type = typeId\r\n                }\r\n            },\r\n            // 类型\r\n            type(value) {\r\n                const result = this.types.find(item => {\r\n                    return item.id === value\r\n                })\r\n\r\n                return result || {}\r\n            },\r\n            // 提交\r\n            handlerSubmit() {\r\n                this.loading = true\r\n\r\n                switch (this.mode) {\r\n                    case 'tagging':\r\n                        return this.handlerTagging()\r\n                    case  'report':\r\n                        return this.handlerReport()\r\n                    default:\r\n                        this.$toast('当前模式不可使用！')\r\n                }\r\n\r\n            },\r\n            // TODO: 添加&修改标注\r\n            handlerTagging() {\r\n                this.$toast({\r\n                    type: 'loading',\r\n                    position: 'center',\r\n                    message: '正在上传 ...',\r\n                    duration: 0\r\n                })\r\n\r\n                const data = {\r\n                    title: this.formTagging.title,\r\n                    type: this.formTagging.type,\r\n                    shared: this.formTagging.shared,\r\n                    detail: this.formTagging.detail,\r\n                    createTime: formatDate(Date.now(), 'YYYY-MM-DD HH:mm:ss'),\r\n                    longitude: this.formTagging.longitude || this.longitude,\r\n                    latitude: this.formTagging.latitude || this.latitude\r\n                }\r\n\r\n                if (this.id) {\r\n                    data.id = this.id\r\n                }\r\n                if (!data.type) {\r\n                    this.loading = false\r\n                    this.$toast(\"请选择标注类型\")\r\n                    return\r\n                }\r\n\r\n                if (data.title === \"\") {\r\n                    this.loading = false\r\n                    return this.$toast(\"请输入标注名称\")\r\n                }\r\n\r\n                saveOrUpdateILabel(data).then(res => {\r\n                    if (this.id) {\r\n                        this.$toast('修改成功')\r\n\r\n                        this.$router.back()\r\n                    } else {\r\n                        this.$toast('添加成功')\r\n\r\n                        window.Arcgis && window.Arcgis.refreshMapLayers()\r\n\r\n                        this.$router.replace('/')\r\n                    }\r\n\r\n                    this.loading = false\r\n\r\n                    this.$emit('update')\r\n                }).catch(error => {\r\n                    this.$toast('添加失败')\r\n\r\n                    this.loading = false\r\n                })\r\n            },\r\n            // TODO: 添加&修改故障上报\r\n            async handlerReport() {\r\n                let images = []\r\n                this.$toast({\r\n                    type: 'loading',\r\n                    position: 'center',\r\n                    message: '正在上传 ...',\r\n                    duration: 0\r\n                })\r\n\r\n                if (this.formReport.images.length) {\r\n                    images = await Promise.all(this.formReport.images.map(image => {\r\n                        return uploadBase64(image)\r\n                    }))\r\n                }\r\n\r\n                const data = {\r\n                    describe: this.formReport.detail,\r\n                    images: images,\r\n                    type: this.formReport.type,\r\n                    longitude : this.formReport.longitude || this.longitude,\r\n                    latitude: this.formReport.latitude || this.latitude\r\n                }\r\n\r\n                if (this.id) {\r\n                    data.id = this.id\r\n                }\r\n\r\n                if (!data.type) {\r\n                    this.loading = false\r\n                    this.$toast(\"请选择上报类型\")\r\n                    return\r\n                }\r\n\r\n                saveFaultReport(data).then(res => {\r\n                    if (this.id) {\r\n                        this.$toast('修改成功')\r\n\r\n                        this.$router.back()\r\n                    } else {\r\n                        this.$toast('上报成功')\r\n\r\n                        window.Arcgis && window.Arcgis.refreshMapLayers()\r\n\r\n                        this.$router.replace('/')\r\n                    }\r\n\r\n                    this.loading = false\r\n\r\n                    this.$emit('update')\r\n                }).catch(error => {\r\n                    this.$toast('添加失败')\r\n\r\n                    this.loading = false\r\n                })\r\n            }\r\n        },\r\n        components: {\r\n            Navigate\r\n        },\r\n        filters: {\r\n            formatDate: formatDate\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    @import \"../../../common/stylus/variable.styl\"\r\n\r\n    .tagging-editor\r\n        padding-top 46px\r\n\r\n        .picture\r\n            .scale-small\r\n                top -25%\r\n                right -30%\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/about/tagging/editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tagging-editor\"},[_c('navigate',{attrs:{\"title\":_vm.title,\"position\":\"absolute\"}}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-wrapper\"},[(_vm.mode === 'tagging')?_c('mu-form',{attrs:{\"model\":_vm.formTagging,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('mu-form-item',{staticClass:\"mn p-15 paper border-1px-b\",attrs:{\"label\":\"标注名称\",\"prop\":\"title\"}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入标注名称 ...\",\"solo\":\"\"},model:{value:(_vm.formTagging.title),callback:function ($$v) {_vm.$set(_vm.formTagging, \"title\", $$v)},expression:\"formTagging.title\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"mn p-15 paper\",attrs:{\"label\":\"类型\",\"prop\":\"type\"},nativeOn:{\"click\":function($event){_vm.open = true}}},[_c('mu-row',{staticClass:\"mn w h\",attrs:{\"align-items\":\"center\",\"justify-content\":\"end\"}},[(_vm.formTagging.type)?_c('span',{staticClass:\"color-primary fz-14\"},[_vm._v(_vm._s(_vm.type(_vm.formTagging.type).name))]):_c('span',{staticClass:\"color-primary fz-12\"},[_vm._v(\"请选择\")])])],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"p-15 paper border-1px-t\",attrs:{\"label\":\"共享\",\"prop\":\"shared\"}},[_c('mu-row',{staticClass:\"mn w h\",attrs:{\"align-items\":\"center\",\"justify-content\":\"end\"}},[_c('mu-switch',{model:{value:(_vm.formTagging.shared),callback:function ($$v) {_vm.$set(_vm.formTagging, \"shared\", $$v)},expression:\"formTagging.shared\"}})],1)],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"paper\",attrs:{\"prop\":\"detail\",\"label-position\":\"top\",\"label-width\":\"100%\"}},[_c('div',{staticClass:\"p-15 border-1px-b\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"描述\")]),_vm._v(\" \"),_c('div',{staticClass:\"p-15 w\"},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入描述 ...\",\"rows\":8,\"max-length\":300,\"full-width\":\"\",\"multi-line\":\"\",\"solo\":\"\"},model:{value:(_vm.formTagging.detail),callback:function ($$v) {_vm.$set(_vm.formTagging, \"detail\", $$v)},expression:\"formTagging.detail\"}})],1)]),_vm._v(\" \"),_c('mu-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"db ma w90 background-primary mb-30\",attrs:{\"color\":\"#fff\",\"data-mu-loading-size\":\"24\",\"disabled\":_vm.loading,\"flat\":\"\"},on:{\"click\":_vm.handlerSubmit}},[_vm._v(\"提交\\n            \")])],1):_vm._e(),_vm._v(\" \"),(_vm.mode === 'report')?_c('mu-form',{attrs:{\"model\":_vm.formReport,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('div',{staticClass:\"p-15 fz-14\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(Date.now())))]),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"mn p-15 paper\",attrs:{\"label\":\"上报类型\",\"prop\":\"type\"},nativeOn:{\"click\":function($event){_vm.open = true}}},[_c('mu-row',{staticClass:\"mn w h\",attrs:{\"align-items\":\"center\",\"justify-content\":\"end\"}},[(_vm.formReport.type)?_c('span',{staticClass:\"color-primary fz-14\"},[_vm._v(_vm._s(_vm.type(_vm.formReport.type).name))]):_c('span',{staticClass:\"color-primary fz-12\"},[_vm._v(\"请选择\")])])],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"mt-20 paper\",attrs:{\"prop\":\"image\",\"label-position\":\"top\",\"label-width\":\"100%\"}},[_c('div',{staticClass:\"p-15 border-1px-b\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"照片\")]),_vm._v(\" \"),_c('div',{staticClass:\"picture-wrapper pt-25\"},[(_vm.formReport.images.length < 9)?_c('div',{staticClass:\"picture border-1px\",on:{\"click\":_vm.handlerPicture}},[_c('mu-icon',{staticClass:\"append\",attrs:{\"value\":\"add\"}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.formReport.images),function(item,index){return _c('div',{staticClass:\"picture\",style:({backgroundImage: (\"url('\" + item + \"')\")}),on:{\"click\":function($event){_vm.handlerBrowse(index)}}},[_c('mu-button',{staticClass:\"scale-small\",attrs:{\"color\":\"#f44336\",\"size\":\"16\",\"fab\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deletePicture(item, index)}}},[_c('mu-icon',{attrs:{\"value\":\"delete\"}})],1)],1)})],2)]),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"paper\",attrs:{\"prop\":\"detail\",\"label-position\":\"top\",\"label-width\":\"100%\"}},[_c('div',{staticClass:\"p-15 border-1px-b\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"描述\")]),_vm._v(\" \"),_c('div',{staticClass:\"p-15 w\"},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入描述信息 ...\",\"rows\":8,\"max-length\":300,\"full-width\":\"\",\"multi-line\":\"\",\"solo\":\"\"},model:{value:(_vm.formReport.detail),callback:function ($$v) {_vm.$set(_vm.formReport, \"detail\", $$v)},expression:\"formReport.detail\"}})],1)]),_vm._v(\" \"),_c('mu-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"db ma w90 background-primary mb-30\",attrs:{\"color\":\"#fff\",\"data-mu-loading-size\":\"24\",\"disabled\":_vm.loading,\"flat\":\"\"},on:{\"click\":_vm.handlerSubmit}},[_vm._v(\"提交\\n            \")])],1):_vm._e()],1),_vm._v(\" \"),_c('mu-bottom-sheet',{staticClass:\"scroll-y mh50\",attrs:{\"open\":_vm.open,\"lock-scroll\":\"\"},on:{\"update:open\":function($event){_vm.open=$event}}},[_c('mu-list',{on:{\"item-click\":function($event){_vm.open = false}}},_vm._l((_vm.types),function(item,index){return _c('mu-list-item',{key:index,attrs:{\"button\":\"\"},nativeOn:{\"click\":function($event){_vm.handlerToggleType(item.id)}}},[_c('mu-list-item-action',[_c('mu-icon',{attrs:{\"value\":\"room\",\"color\":_vm.formTagging.type === item.id || _vm.formReport.type === item.id ? 'orange' : ''}})],1),_vm._v(\" \"),_c('mu-list-item-content',[_c('mu-list-item-title',[_vm._v(_vm._s(item.name))])],1)],1)}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41410df6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/about/tagging/editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41410df6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editor.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41410df6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41410df6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/about/tagging/editor.vue\n// module id = null\n// module chunks = ","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-41410df6\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/about/tagging/editor.vue\n// module id = vPwx\n// module chunks = 3"],"sourceRoot":""}