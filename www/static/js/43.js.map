{"version":3,"sources":["webpack:///./src/views/navigational/index.vue?9b2e","webpack:///src/views/navigational/index.vue","webpack:///./src/views/navigational/index.vue?cb93","webpack:///./src/views/navigational/index.vue"],"names":[],"mappings":"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","file":"static/js/43.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1980840a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/navigational/index.vue\n// module id = CL89\n// module chunks = 43","<template>\n    <div class=\"navigational\">\n        <navigate title=\"助航信息\" position=\"absolute\" color=\"#fff\" backgroundColor=\"#3899D7\"/>\n        <div class=\"scroll-wrapper\">\n            <div class=\"items-wrapper\" :style=\"{maxHeight: styles.itemsWrapper.maxHeight + 'px'}\" ref=\"itemsWrapper\">\n                <div class=\"items\"\n                     :style=\"{\n                                width: styles.items.width + 'px',\n                                transform: `translate3d(${styles.items.scrollLeft}px, 0, 0)`\n                             }\"\n                     @touchstart=\"onTouchstart\"\n                     @touchmove=\"onTouchmove\"\n                     @touchend=\"onTouchend\"\n                     ref=\"items\">\n                    <div class=\"items-item\" v-for=\"(item, index) in items\" ref=\"item\"\n                         :class=\"{'items-item-active': params.typeId === item.id}\"\n                         :style=\"{width: styles.item.width + 'px'}\"\n                         :data-id=\"item.id\"\n                         @click=\"handlerNavigationItem(item.id)\">\n                        <img :src=\"item.id | formatFind(icons, 'value', 'typeId')\">\n                        <span>{{item.name}}</span>\n                    </div>\n                </div>\n            </div>\n            <transition name=\"fade-shelter\">\n                <div class=\"search-box-wrapper\" v-show=\"params.typeId\">\n                    <div class=\"search-box border-1px\">\n                        <mu-icon size=\"22\" value=\"search\" color=\"#ccc\"/>\n                        <mu-text-field v-model=\"params.name\" placeholder=\"请输入搜索内容\" solo full-width\n                                       class=\"demo-divider-form\"/>\n                    </div>\n                </div>\n            </transition>\n            <div class=\"content-wrapper\" v-show=\"params.typeId\" ref=\"content\">\n                <mu-load-more v-show=\"list.length\" :refreshing=\"refreshing\" :loading=\"loading\"\n                              @refresh=\"onRefresh\"\n                              @load=\"load\">\n                    <div class=\"search-list-item border-1px-b\" v-for=\"(item, index) in list\" :key=\"item.id\">\n                        <div class=\"info\">\n                            <span class=\"badge\">【{{item.typeName}}】</span>{{item.name}}\n                        </div>\n                        <mu-button class=\"button\" color=\"#6B9CF2\"\n                                   @click=\"handlerListItem(item)\"\n                                   small flat>查看\n                        </mu-button>\n                    </div>\n                </mu-load-more>\n                <no-success text=\"暂未查询到数据\" v-show=\"!list.length\"/>\n            </div>\n        </div>\n\n\n        <transition class=\"views-left\">\n            <keep-alive>\n                <router-view class=\"views\"/>\n            </keep-alive>\n        </transition>\n\n    </div>\n</template>\n\n<script>\n    import Navigate from \"../../base/navigate/navigate\"\n    import NoSuccess from \"../../components/no-success/no-success\"\n    import Elements from '../../common/utils/elements'\n    import {getNavigationals} from \"../../api/navigation\"\n    import {debounce, isArray} from \"../../types/index\"\n    import {appMixins} from \"../../common/mixins\"\n\n    export default {\n        name: \"navigational\",\n        mixins: [appMixins],\n        data() {\n            return {\n                /***\n                 * 导航选项列表\n                 */\n                items: Elements.list,\n                /***\n                 * 上拉刷新&下拉加载\n                 */\n                refreshing: false,\n                loading: false,\n                /***\n                 * 结果列表\n                 */\n                list: [],\n                /***\n                 * 搜索条件\n                 */\n                params: {\n                    typeId: '',\n                    name: '',\n                    pageNumber: 1,\n                    pageSize: 20\n                },\n                /***\n                 * 导航栏样式\n                 */\n                styles: {\n                    itemsWrapper: {\n                        width: undefined,\n                        maxHeight: 500\n                    },\n                    items: {\n                        width: undefined,\n                        scrollLeft: 0\n                    },\n                    item: {\n                        width: undefined\n                    }\n                }\n            }\n        },\n        created() {\n            this.$watch('params.name', debounce(value => {\n                this.onRefresh()\n            }, 300))\n\n            this.$watch('params.typeId', value => {\n                this.$router.replace({\n                    name: 'navigational',\n                    query: {\n                        id: value\n                    }\n                })\n\n                this.onRefresh()\n            })\n\n            const {width} = this.screen\n\n            this.styles.itemsWrapper.width = width\n            this.styles.items.width = width\n            this.styles.item.width = width * 0.2\n        },\n        activated() {\n            this.params.name = ''\n\n            if (this.$route.query.id) {\n                this.handlerNavigationItem(this.$route.query.id)\n            }\n        },\n        methods: {\n            // 点击导航\n            handlerNavigationItem(id) {\n                const {width} = this.screen\n\n                if (this.params.typeId === id) {\n                    this.params.typeId = ''\n                    this.styles.item.width = width * 0.2\n                    this.styles.items.width = width\n                    this.styles.items.scrollLeft = 0\n                    this.styles.itemsWrapper.maxHeight = 500\n                } else {\n                    this.params.typeId = id\n\n                    this.styles.item.width = 0.2 * width\n                    this.styles.items.width = this.items.length * 0.2 * width\n                    this.styles.itemsWrapper.maxHeight = 90\n\n                    this.animation()\n                }\n\n                this.params.name = ''\n            },\n            // 刷新\n            onRefresh() {\n                this.refreshing = true\n                this.$refs.content.scrollTop = 0\n\n                this.getNavigationals()\n            },\n            // 加载更多\n            load() {\n                this.loading = true\n                this.params.pageNumber++\n\n                if (this.params.typeId) {\n                    this.params.types = [this.params.typeId]\n\n                    getNavigationals(this.params).then(res => {\n                        this.list.push(...isArray(res))\n\n                        this.loading = false\n                    })\n                }\n            },\n            // 获取指定助航信息\n            getNavigationals() {\n                this.params.pageNumber = 1\n\n                if (this.params.typeId) {\n                    this.params.types = [this.params.typeId]\n\n                    getNavigationals(this.params).then(res => {\n                        this.list = isArray(res)\n\n                        this.refreshing = false\n\n                        this.$toast.clear()\n                    })\n                } else {\n                    this.list = []\n                }\n            },\n            /***\n             * 查询详情\n             */\n            handlerListItem(item) {\n                this.$router.push({\n                    name: 'navigational-details',\n                    params: {\n                        type: item.subType || item.typeId || this.$route.query.id || this.params.typeId,\n                        id: item.id\n                    },\n                    query: {\n                        typeId: item.typeId\n                    }\n                })\n            },\n            /***\n             * 动画\n             */\n            animation() {\n                clearTimeout(this.timer)\n\n                const index = this.items.findIndex(item => {\n                    return this.params.typeId === item.id\n                })\n\n                if (index === -1) {\n                    return\n                }\n\n                const width = this.screen.width\n                const max = this.styles.items.width - width\n\n                let current = index * (width * 0.2) - (width * 0.8) / 2\n\n                if (current < 0) {\n                    current = 0\n                }\n\n                if (current > max) {\n                    current = max\n                }\n\n                this.styles.items.scrollLeft = -current\n            },\n            /***\n             * 滚动动画\n             * @param event\n             */\n            onTouchstart(event) {\n                clearTimeout(this.timer)\n                this.$refs.items.style.transition = 'none'\n                this.scrollX = event.touches[0].pageX\n            },\n            onTouchmove(event) {\n                let current = event.touches[0].pageX - this.scrollX + this.styles.items.scrollLeft\n\n                const MAX = this.styles.items.width - this.styles.itemsWrapper.width\n                const MIN = 0\n\n                if (current > MIN) {\n                    current = MIN\n                }\n\n                if (current < -MAX) {\n                    current = -MAX\n                }\n\n                this.styles.items.scrollLeft = current\n\n                this.scrollX = event.touches[0].pageX\n            },\n            onTouchend() {\n                this.$refs.items.style.transition = 'all 1s'\n                this.timer = setTimeout(this.animation, 2000)\n            }\n        },\n        components: {\n            NoSuccess,\n            Navigate\n        }\n    };\n</script>\n\n<style lang=\"stylus\" scoped>\n    @import '../../common/stylus/variable.styl';\n\n    .navigational\n        padding-top 46px\n        width 100%\n        height 100%\n        background-color #fff\n        overflow hidden\n        .scroll-wrapper\n            display flex\n            flex-direction column\n            width 100%\n            height 100%\n        .items-wrapper\n            width 100%\n            max-height 1000px\n            overflow hidden\n            transition all 1s\n            .items\n                display flex\n                flex-wrap wrap\n                height 100%\n                overflow hidden\n                transition all 1s\n                .items-item\n                    display flex\n                    justify-content center\n                    align-items center\n                    flex-direction column\n                    width 20%\n                    height 90px\n                    transition all 1s\n                    &.items-item-active\n                        > img\n                            background-color #ff5252\n                        > span\n                            color #ff5252\n                    > img\n                        display block\n                        padding 8px\n                        width 40px\n                        height 40px\n                        border-radius 50%\n                        background-color #2196f3\n                        transition all 1s\n                    > span\n                        margin-top .5em\n                        font-size $font-size-ms\n        .search-box-wrapper\n            background-color #efefef\n            overflow hidden\n            .search-box\n                position relative\n                margin 10px\n                background-color #ffffff\n                .mu-icon\n                    position absolute\n                    left 10px\n                    top 6px\n                .mu-input\n                    padding 0 10px 0 40px\n                    min-height 32px\n                    font-size $font-size-m\n        .content-wrapper\n            flex 1\n            background-color #fff\n            overflow-x hidden\n            overflow-y auto\n            .mu-load-more\n                min-height 100%\n            .search-list-item\n                display flex\n                align-items center\n                padding 10px 20px\n                width 100%\n                height 54px\n                background-color #fff\n                .info\n                    flex 1\n                    margin-right 15px\n                    height 30px\n                    line-height 30px\n                    font-size $font-size-ml\n                    overflow hidden\n                    text-overflow ellipsis\n                    white-space nowrap\n                .button\n                    border 1px solid #6B9CF2\n                    border-radius 5px\n                .badge\n                    margin-right 0.5em\n                    color #087FCD\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/navigational/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navigational\"},[_c('navigate',{attrs:{\"title\":\"助航信息\",\"position\":\"absolute\",\"color\":\"#fff\",\"backgroundColor\":\"#3899D7\"}}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{ref:\"itemsWrapper\",staticClass:\"items-wrapper\",style:({maxHeight: _vm.styles.itemsWrapper.maxHeight + 'px'})},[_c('div',{ref:\"items\",staticClass:\"items\",style:({\n                            width: _vm.styles.items.width + 'px',\n                            transform: (\"translate3d(\" + (_vm.styles.items.scrollLeft) + \"px, 0, 0)\")\n                         }),on:{\"touchstart\":_vm.onTouchstart,\"touchmove\":_vm.onTouchmove,\"touchend\":_vm.onTouchend}},_vm._l((_vm.items),function(item,index){return _c('div',{ref:\"item\",refInFor:true,staticClass:\"items-item\",class:{'items-item-active': _vm.params.typeId === item.id},style:({width: _vm.styles.item.width + 'px'}),attrs:{\"data-id\":item.id},on:{\"click\":function($event){_vm.handlerNavigationItem(item.id)}}},[_c('img',{attrs:{\"src\":_vm._f(\"formatFind\")(item.id,_vm.icons, 'value', 'typeId')}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])])}))]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade-shelter\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.typeId),expression:\"params.typeId\"}],staticClass:\"search-box-wrapper\"},[_c('div',{staticClass:\"search-box border-1px\"},[_c('mu-icon',{attrs:{\"size\":\"22\",\"value\":\"search\",\"color\":\"#ccc\"}}),_vm._v(\" \"),_c('mu-text-field',{staticClass:\"demo-divider-form\",attrs:{\"placeholder\":\"请输入搜索内容\",\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.params.name),callback:function ($$v) {_vm.$set(_vm.params, \"name\", $$v)},expression:\"params.name\"}})],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.typeId),expression:\"params.typeId\"}],ref:\"content\",staticClass:\"content-wrapper\"},[_c('mu-load-more',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list.length),expression:\"list.length\"}],attrs:{\"refreshing\":_vm.refreshing,\"loading\":_vm.loading},on:{\"refresh\":_vm.onRefresh,\"load\":_vm.load}},_vm._l((_vm.list),function(item,index){return _c('div',{key:item.id,staticClass:\"search-list-item border-1px-b\"},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"badge\"},[_vm._v(\"【\"+_vm._s(item.typeName)+\"】\")]),_vm._v(_vm._s(item.name)+\"\\n                    \")]),_vm._v(\" \"),_c('mu-button',{staticClass:\"button\",attrs:{\"color\":\"#6B9CF2\",\"small\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.handlerListItem(item)}}},[_vm._v(\"查看\\n                    \")])],1)})),_vm._v(\" \"),_c('no-success',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.list.length),expression:\"!list.length\"}],attrs:{\"text\":\"暂未查询到数据\"}})],1)],1),_vm._v(\" \"),_c('transition',{staticClass:\"views-left\"},[_c('keep-alive',[_c('router-view',{staticClass:\"views\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1980840a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/navigational/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1980840a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1980840a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1980840a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/navigational/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}