{"version":3,"sources":["webpack:///src/views/dynamic/detail.vue","webpack:///./src/views/dynamic/detail.vue?ddbe","webpack:///./src/views/dynamic/detail.vue","webpack:///./src/views/dynamic/detail.vue?2130"],"names":[],"mappings":"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","file":"static/js/39.js","sourcesContent":["<template xmlns:v-lazy=\"http://www.w3.org/1999/xhtml\">\r\n    <div class=\"dynamic-detail\">\r\n        <navigate title=\"详情\" position=\"absolute\"/>\r\n        <div class=\"scroll-wrapper\">\r\n            <div class=\"dy-container\">\r\n                <!-- 头部信息 -->\r\n                <div class=\"dynamic-head\">\r\n                    <!-- 发布人 -->\r\n                    <div class=\"source\">\r\n                        <mu-avatar size=\"50\">\r\n                            <img v-lazy=\"AvatarImage($images + detail.portrait, detail.alias)\" :key=\"$images + detail.portrait\">\r\n                        </mu-avatar>\r\n                        <div class=\"info\">\r\n                            <div class=\"nickname\">{{detail.alias}}</div>\r\n                            <div class=\"time theme-text-secondary\">{{detail.createTime}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- 发布人 -->\r\n                    <!-- 动态圈内容 -->\r\n                    <div class=\"msg\" v-html=\"detail.content\">{{detail.content}}</div>\r\n                    <!-- 动态圈内容 -->\r\n                    <!-- 照片框 -->\r\n                    <div class=\"picture-box\">\r\n                        <div class=\"picture\"\r\n                             :class=\"picture\"\r\n                             v-for=\"(item, index) in detail.images\"\r\n                             v-if=\"item\"\r\n                             v-lazy:background-image=\"item\"\r\n                             @click=\"handlerPicture(detail.images, index)\"></div>\r\n                    </div>\r\n                    <!-- 照片框 -->\r\n                    <!-- 点赞列表 -->\r\n                    <div class=\"liker\" v-if=\"fabulous.length\">\r\n                        <mu-icon value=\"thumb_up\" style=\"margin-top: 1.8px; margin-bottom: 1px\" size=\"14\"/>\r\n                        <div v-html=\"fabulousString\"></div>\r\n                    </div>\r\n                    <!-- 点赞列表 -->\r\n                </div>\r\n                <!-- 头部信息 -->\r\n                <div style=\"height: 15px;\"></div>\r\n                <!-- 评论 -->\r\n                <div class=\"interact\" v-if=\"commentList.length\">\r\n                    <div class=\"comment\">\r\n                        <div class=\"comment-item border-1px-b\" v-for=\"(item, index) in commentList\" :key=\"index\">\r\n                            <mu-avatar size=\"50\">\r\n                                <img v-lazy=\"AvatarImage($images + item.portrait, detail.alias)\" :key=\"$images + detail.portrait\">\r\n                            </mu-avatar>\r\n                            <div class=\"message\">\r\n                                <div class=\"nickname\">{{item.alias}}</div>\r\n                                <div class=\"time theme-text-secondary\">\r\n                                    <span style=\"margin-right: 0.5em\">第{{index + 1}}楼</span>\r\n                                    <span>{{item.createTime | formatPast('MM-DD')}}</span>\r\n                                </div>\r\n                                <div class=\"comment-content\">{{item.content}}</div>\r\n                                <div class=\"reply border-1px-t\" v-for=\"rItem in item.subComments\">\r\n                                    <div style=\"margin-bottom: 8px\">\r\n                                        <span class=\"reply-name\">{{rItem.alias}}</span>\r\n                                        <span class=\"time theme-text-secondary\">\r\n                                            {{rItem.createTime | formatPast('MM-DD')}}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div class=\"reply-content\">\r\n                                        {{rItem.content}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <mu-menu class=\"more\" popover-class=\"more-popover\" placement=\"right\"\r\n                                     :open.sync=\"item.MoreOpen\"\r\n                                     @open=\"handlerMoreOpen\">\r\n                                <mu-icon size=\"22\" value=\"more_horiz\" color=\"#3899D7\"/>\r\n                                <mu-list class=\"more-list\" slot=\"content\">\r\n                                    <mu-list-item @click.native=\"handlerMoreItem(item)\">\r\n                                        <mu-list-item-title>回复</mu-list-item-title>\r\n                                    </mu-list-item>\r\n                                </mu-list>\r\n                            </mu-menu>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- 评论 -->\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 底部栏 -->\r\n        <transition-group tag=\"div\" class=\"dy-bottom-wrapper\" name=\"fade-bottom\">\r\n            <div class=\"button-wrapper\" key=\"b\" v-if=\"visible\">\r\n                <mu-ripple class=\"item\" @click=\"handlerComment\">\r\n                    <mu-icon value=\"speaker_notes\" size=\"22\"></mu-icon>\r\n                    <span style=\"margin-left: .5em\">评论</span>\r\n                </mu-ripple>\r\n                <div class=\"line border-1px-l\"></div>\r\n                <mu-ripple class=\"item\"\r\n                           :class=\"{'my-like': detail.isFabulous}\"\r\n                           v-loading=\"loading.fabulous\"\r\n                           data-mu-loading-size=\"24\"\r\n                           @click=\"handlerFabulous\">\r\n                    <mu-icon value=\"thumb_up\" size=\"22\"></mu-icon>\r\n                    <span style=\"margin-left: .5em\">{{detail.isFabulous ? '已赞' : '赞'}}</span>\r\n                </mu-ripple>\r\n            </div>\r\n            <form class=\"input-box-wrapper\" action=\"javascript:\" key=\"i\" @submit=\"onSubmit\" v-else>\r\n                <field class=\"paper\" v-model=\"content\" maxlength=\"120\" ref=\"field\"\r\n                       :placeholder=\"placeholder\"\r\n                       @blur=\"visible = true\"/>\r\n            </form>\r\n        </transition-group>\r\n        <!-- 底部栏 -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Navigate from \"../../base/navigate/navigate\"\r\n    import Field from 'vant/lib/field'\r\n    import 'vant/lib/field/style'\r\n    import ImagePreview from \"vant/lib/image-preview\"\r\n    import \"vant/lib/image-preview/style\"\r\n    import Shelter from \"../../base/shelter\"\r\n    import {\r\n        queryCommentList,\r\n        queryFabulousAll,\r\n        saveFabulous,\r\n        deleteFabulous,\r\n        saveComment,\r\n        queryCircleMessageWithUF\r\n    } from \"../../api/dynamic\"\r\n    import {formatPast} from \"../../common/utils/time\"\r\n    import {userMixins} from \"../../common/mixins\"\r\n\r\n    export default {\r\n        name: \"dynamic-detail\",\r\n        mixins: [userMixins],\r\n        data() {\r\n            return {\r\n                visible: true,\r\n                replyTo: null,\r\n                content: \"\",\r\n                detail: {\r\n                    isFabulous: false\r\n                },\r\n                commentList: [],\r\n                fabulous: [],\r\n                params: {\r\n                    pageNumber: 0,\r\n                    pageSize: 20\r\n                },\r\n                loading: {\r\n                    fabulous: false,\r\n                    comment: false\r\n                }\r\n            }\r\n        },\r\n        props: {\r\n            id: {\r\n                type: String,\r\n                default: \"\"\r\n            }\r\n        },\r\n        computed: {\r\n            picture() {\r\n                if (this.detail.images) {\r\n                    return this.detail.images.length > 4\r\n                        ? \"picture-max\"\r\n                        : \"picture-\" + this.detail.images.length\r\n                }\r\n\r\n                return \"\"\r\n            },\r\n            fabulousString() {\r\n                return (this.fabulous.map(item => {\r\n                    return `<span class=\"fabulous\">${item}</span>`\r\n                }).join(\"、\") + \"赞过\")\r\n            },\r\n            placeholder() {\r\n                return this.replyTo ? `回复 ${this.replyTo.alias}: ` : `评论`\r\n            }\r\n        },\r\n        activated() {\r\n            this.commentList = []\r\n            this.fabulous = []\r\n\r\n            this.detail = this.$route.params\r\n\r\n            this.queryCommentList()\r\n            this.queryFabulousAll()\r\n            this.queryCircleMessageWithUF()\r\n        },\r\n        methods: {\r\n            queryCircleMessageWithUF() {\r\n                queryCircleMessageWithUF(this.id).then(res => {\r\n                    console.log(res)\r\n                })\r\n            },\r\n            // 点击图片，打开图片查看器\r\n            handlerPicture(images, index) {\r\n                ImagePreview({images, startPosition: index})\r\n            },\r\n            /***\r\n             * 点击发送评论\r\n             */\r\n            onSubmit() {\r\n                this.saveComment()\r\n\r\n                return false\r\n            },\r\n            /***\r\n             * 获取评论列表\r\n             */\r\n            queryCommentList() {\r\n                this.params.msgId = this.id\r\n\r\n                queryCommentList(this.params).then(res => {\r\n                    this.commentList = res\r\n                })\r\n            },\r\n            /***\r\n             * 获取所有点赞人\r\n             */\r\n            queryFabulousAll() {\r\n                queryFabulousAll({msgId: this.id}).then(res => {\r\n                    this.fabulous = res\r\n                })\r\n            },\r\n            // 点击更多\r\n            handlerMoreOpen() {\r\n                Shelter.show({\r\n                    zIndex: 20000\r\n                })\r\n            },\r\n            // 点赞 or 取消点赞\r\n            handlerFabulous() {\r\n                if (this.loading.fabulous) {\r\n                    return\r\n                }\r\n\r\n                this.loading.fabulous = true\r\n\r\n                if (this.detail.isFabulous) {\r\n                    deleteFabulous({msgId: this.detail.id}).then(res => {\r\n                        this.detail.isFabulous = !this.detail.isFabulous\r\n\r\n                        this.queryFabulousAll()\r\n\r\n                        this.$emit('refresh')\r\n\r\n                        this.loading.fabulous = false\r\n                    })\r\n                } else {\r\n                    saveFabulous({msgId: this.detail.id}).then(res => {\r\n                        this.detail.isFabulous = !this.detail.isFabulous\r\n\r\n                        this.queryFabulousAll()\r\n\r\n                        this.$emit('refresh')\r\n\r\n                        this.loading.fabulous = false\r\n                    })\r\n                }\r\n            },\r\n            /***\r\n             * 点击评论按钮\r\n             */\r\n            handlerComment() {\r\n                this.visible = false\r\n\r\n                this.replyTo = null\r\n            },\r\n            // 评论\r\n            saveComment() {\r\n                if (!this.content || this.loading.comment) {\r\n                    return\r\n                }\r\n\r\n                this.loading.comment = true\r\n\r\n                const data = {\r\n                    msgId: this.id,\r\n                    content: this.content,\r\n                    status: \"020002\"\r\n                }\r\n\r\n                if (this.replyTo) {\r\n                    data.commentId = this.replyTo.id\r\n\r\n                    console.log(`你回复了 ${this.replyTo.alias}: ${this.content}`)\r\n                } else {\r\n                    console.log(`你发表了评论: ${this.content}`)\r\n                }\r\n\r\n                saveComment(data).then(res => {\r\n                    this.content = \"\"\r\n\r\n                    this.queryCommentList()\r\n\r\n                    this.$emit('refresh')\r\n\r\n                    this.visible = true\r\n\r\n                    this.loading.comment = false\r\n                })\r\n            },\r\n            handlerMoreItem(item) {\r\n                this.replyTo = item\r\n\r\n                item.MoreOpen = !item.MoreOpen\r\n\r\n                Shelter.close()\r\n\r\n                this.visible = false\r\n            }\r\n        },\r\n        watch: {\r\n            visible(value) {\r\n                if (!value) {\r\n                    this.$nextTick(() => {\r\n                        this.$refs.field\r\n                        && this.$refs.field.$refs\r\n                        && this.$refs.field.$refs.input\r\n                        && this.$refs.field.$refs.input.focus\r\n                        && this.$refs.field.$refs.input.focus()\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        filters: {\r\n            formatPast: formatPast\r\n        },\r\n        components: {\r\n            Navigate,\r\n            Field\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    @import '../../common/stylus/variable.styl'\r\n    @import '../../common/stylus/mixins.styl'\r\n\r\n    .dynamic-detail\r\n        padding 46px 0 44px\r\n        overflow hidden\r\n\r\n        .dy-container\r\n            display flex\r\n            flex-direction column\r\n            min-height 100%\r\n\r\n            .dynamic-head\r\n                padding 15px\r\n\r\n                .source\r\n                    display flex\r\n                    align-items center\r\n                    margin-bottom 10px\r\n\r\n                    > .mu-avatar\r\n                        margin-right 15px\r\n\r\n                    .info\r\n                        .nickname\r\n                            margin-bottom 5px\r\n                            font-size $font-size-ls\r\n\r\n                        .time\r\n                            font-size $font-size-ms\r\n\r\n                .msg\r\n                    margin-bottom 10px\r\n                    line-height 1.76425\r\n                    text-align justify\r\n\r\n                .picture-box\r\n                    display flex\r\n                    flex-wrap wrap\r\n\r\n                    .picture\r\n                        height 0\r\n                        background-position center center\r\n                        background-repeat no-repeat\r\n                        background-size cover\r\n\r\n                    .picture-1\r\n                        padding-top 100%\r\n                        width 100%\r\n\r\n                    .picture-2\r\n                        margin-right 4px\r\n                        padding-top calc(50% - 2px)\r\n                        width calc(50% - 2px)\r\n\r\n                        &:last-child\r\n                            margin-right 0\r\n\r\n                    .picture-3\r\n                        margin-right 3px\r\n                        padding-top calc(33% - 2px)\r\n                        width calc(33% - 2px)\r\n\r\n                        &:last-child\r\n                            margin-right 0\r\n\r\n                    .picture-4\r\n                        margin-right 4px\r\n                        margin-bottom 4px\r\n                        padding-top calc(50% - 2px)\r\n                        width calc(50% - 2px)\r\n\r\n                        &:nth-child(2n)\r\n                            margin-right 0\r\n\r\n                        &:nth-child(n + 2)\r\n                            margin-bottom 0\r\n\r\n                    .picture-max\r\n                        margin-right 3px\r\n                        margin-bottom 3px\r\n                        padding-top calc(33% - 2px)\r\n                        width calc(33% - 2px)\r\n\r\n                        &:nth-child(3n)\r\n                            margin-right 0\r\n\r\n                        &:nth-child(n + 7)\r\n                            margin-bottom 0\r\n\r\n                .liker\r\n                    display flex\r\n                    padding 5px 0\r\n                    line-height 1.47625\r\n                    font-size $font-size-ms\r\n\r\n                    >>> .fabulous\r\n                        margin-right 0.5em\r\n                        color #2196f3\r\n\r\n                    .mu-icon\r\n                        margin-right 0.5em\r\n                        color #2196f3\r\n\r\n            .interact\r\n                flex 1\r\n\r\n                .comment-item\r\n                    position relative\r\n                    display flex\r\n                    padding 10px 15px\r\n\r\n                    > .mu-avatar\r\n                        margin-right 15px\r\n                        min-width 50px\r\n                        position absolute\r\n\r\n                    .message\r\n                        padding-left 70px\r\n\r\n                        .nickname\r\n                            margin-bottom 6px\r\n                            font-size $font-size-ml\r\n                            color #2196f3\r\n\r\n                        .time\r\n                            margin-bottom 10px\r\n                            font-size $font-size-ms\r\n\r\n                        .comment-content\r\n                            padding-right 10px\r\n                            padding-bottom 10px\r\n                            line-height 20px\r\n\r\n                        .reply\r\n                            padding 15px 15px 15px 0\r\n\r\n                            &:first-of-type\r\n                                margin-top 10px\r\n\r\n                            .reply-name\r\n                                color #2196f3\r\n                                margin-right 4px\r\n\r\n                .more\r\n                    position absolute\r\n                    border-radius 4px\r\n                    right 10px\r\n                    top 30px\r\n\r\n        .dy-bottom-wrapper\r\n            position fixed\r\n            bottom 0\r\n            width 100%\r\n            height 44px\r\n\r\n            .button-wrapper\r\n                display flex\r\n                width 100%\r\n                height 100%\r\n                box-shadow 0 -1px 6px -1px rgba(200, 200, 200, 0.33)\r\n                overflow hidden\r\n\r\n                .line\r\n                    position absolute\r\n                    left 50%\r\n                    top 50%\r\n                    width 1px\r\n                    height 22px\r\n                    transform translate3d(-50%, -50%, 0)\r\n\r\n                .item\r\n                    position relative\r\n                    flex 1\r\n                    display flex\r\n                    justify-content center\r\n                    align-items center\r\n                    height 46px\r\n\r\n                    &.my-like\r\n                        color #2196f3\r\n\r\n            .input-box-wrapper\r\n                width 100%\r\n                height 100%\r\n                box-shadow 0 -1px 6px -1px rgba(200, 200, 200, 0.33)\r\n                overflow hidden\r\n\r\n                > input\r\n                    width 100%\r\n                    height 46px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/dynamic/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dynamic-detail\"},[_c('navigate',{attrs:{\"title\":\"详情\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{staticClass:\"dy-container\"},[_c('div',{staticClass:\"dynamic-head\"},[_c('div',{staticClass:\"source\"},[_c('mu-avatar',{attrs:{\"size\":\"50\"}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.AvatarImage(_vm.$images + _vm.detail.portrait, _vm.detail.alias)),expression:\"AvatarImage($images + detail.portrait, detail.alias)\"}],key:_vm.$images + _vm.detail.portrait})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.detail.alias))]),_vm._v(\" \"),_c('div',{staticClass:\"time theme-text-secondary\"},[_vm._v(_vm._s(_vm.detail.createTime))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"msg\",domProps:{\"innerHTML\":_vm._s(_vm.detail.content)}},[_vm._v(_vm._s(_vm.detail.content))]),_vm._v(\" \"),_c('div',{staticClass:\"picture-box\"},_vm._l((_vm.detail.images),function(item,index){return (item)?_c('div',{directives:[{name:\"lazy\",rawName:\"v-lazy:background-image\",value:(item),expression:\"item\",arg:\"background-image\"}],staticClass:\"picture\",class:_vm.picture,on:{\"click\":function($event){_vm.handlerPicture(_vm.detail.images, index)}}}):_vm._e()})),_vm._v(\" \"),(_vm.fabulous.length)?_c('div',{staticClass:\"liker\"},[_c('mu-icon',{staticStyle:{\"margin-top\":\"1.8px\",\"margin-bottom\":\"1px\"},attrs:{\"value\":\"thumb_up\",\"size\":\"14\"}}),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.fabulousString)}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"15px\"}}),_vm._v(\" \"),(_vm.commentList.length)?_c('div',{staticClass:\"interact\"},[_c('div',{staticClass:\"comment\"},_vm._l((_vm.commentList),function(item,index){return _c('div',{key:index,staticClass:\"comment-item border-1px-b\"},[_c('mu-avatar',{attrs:{\"size\":\"50\"}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.AvatarImage(_vm.$images + item.portrait, _vm.detail.alias)),expression:\"AvatarImage($images + item.portrait, detail.alias)\"}],key:_vm.$images + _vm.detail.portrait})]),_vm._v(\" \"),_c('div',{staticClass:\"message\"},[_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.alias))]),_vm._v(\" \"),_c('div',{staticClass:\"time theme-text-secondary\"},[_c('span',{staticStyle:{\"margin-right\":\"0.5em\"}},[_vm._v(\"第\"+_vm._s(index + 1)+\"楼\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"formatPast\")(item.createTime,'MM-DD')))])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-content\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_vm._l((item.subComments),function(rItem){return _c('div',{staticClass:\"reply border-1px-t\"},[_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[_c('span',{staticClass:\"reply-name\"},[_vm._v(_vm._s(rItem.alias))]),_vm._v(\" \"),_c('span',{staticClass:\"time theme-text-secondary\"},[_vm._v(\"\\n                                        \"+_vm._s(_vm._f(\"formatPast\")(rItem.createTime,'MM-DD'))+\"\\n                                    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"reply-content\"},[_vm._v(\"\\n                                    \"+_vm._s(rItem.content)+\"\\n                                \")])])})],2),_vm._v(\" \"),_c('mu-menu',{staticClass:\"more\",attrs:{\"popover-class\":\"more-popover\",\"placement\":\"right\",\"open\":item.MoreOpen},on:{\"update:open\":function($event){_vm.$set(item, \"MoreOpen\", $event)},\"open\":_vm.handlerMoreOpen}},[_c('mu-icon',{attrs:{\"size\":\"22\",\"value\":\"more_horiz\",\"color\":\"#3899D7\"}}),_vm._v(\" \"),_c('mu-list',{staticClass:\"more-list\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('mu-list-item',{nativeOn:{\"click\":function($event){_vm.handlerMoreItem(item)}}},[_c('mu-list-item-title',[_vm._v(\"回复\")])],1)],1)],1)],1)}))]):_vm._e()])]),_vm._v(\" \"),_c('transition-group',{staticClass:\"dy-bottom-wrapper\",attrs:{\"tag\":\"div\",\"name\":\"fade-bottom\"}},[(_vm.visible)?_c('div',{key:\"b\",staticClass:\"button-wrapper\"},[_c('mu-ripple',{staticClass:\"item\",on:{\"click\":_vm.handlerComment}},[_c('mu-icon',{attrs:{\"value\":\"speaker_notes\",\"size\":\"22\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\".5em\"}},[_vm._v(\"评论\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"line border-1px-l\"}),_vm._v(\" \"),_c('mu-ripple',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading.fabulous),expression:\"loading.fabulous\"}],staticClass:\"item\",class:{'my-like': _vm.detail.isFabulous},attrs:{\"data-mu-loading-size\":\"24\"},on:{\"click\":_vm.handlerFabulous}},[_c('mu-icon',{attrs:{\"value\":\"thumb_up\",\"size\":\"22\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\".5em\"}},[_vm._v(_vm._s(_vm.detail.isFabulous ? '已赞' : '赞'))])],1)],1):_c('form',{key:\"i\",staticClass:\"input-box-wrapper\",attrs:{\"action\":\"javascript:\"},on:{\"submit\":_vm.onSubmit}},[_c('field',{ref:\"field\",staticClass:\"paper\",attrs:{\"maxlength\":\"120\",\"placeholder\":_vm.placeholder},on:{\"blur\":function($event){_vm.visible = true}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6809fd82\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dynamic/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6809fd82\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6809fd82\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6809fd82\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dynamic/detail.vue\n// module id = null\n// module chunks = ","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6809fd82\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/dynamic/detail.vue\n// module id = Og38\n// module chunks = 39"],"sourceRoot":""}