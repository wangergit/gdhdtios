{"version":3,"sources":["webpack:///src/views/dynamic/supply-info.vue","webpack:///./src/views/dynamic/supply-info.vue?a576","webpack:///./src/views/dynamic/supply-info.vue","webpack:///./src/views/dynamic/supply-info.vue?e7d5","webpack:///./src/common/js/cordova/camera.js"],"names":["savePicture","resolve","reject","window","ImagePicker","getPictures","result","maxCount","defaultList","MediaPicker","getMedias","options","getBase64","item","extractThumbnail"],"mappings":"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","file":"static/js/21.js","sourcesContent":["<template>\n    <!-- 新增货源信息 -->\n    <div class=\"supply\">\n        <mu-appbar class=\"appbar\">\n            <mu-button slot=\"left\" color=\"#fff\" @click=\"$router.back()\" icon>\n                <mu-icon value=\"navigate_before\"/>\n            </mu-button>\n            <div class=\"title\">货源信息</div>\n            <mu-button slot=\"right\" color=\"#fff\" @click=\"handlerSubmit\" flat>\n                发送\n            </mu-button>\n        </mu-appbar>\n        <div class=\"scroll-wrapper\">\n            <div class=\"picture-wrapper border-1px-b\">\n                <div class=\"picture\" v-if=\"item\" v-for=\"(item, index) in images\" :key=\"index\"\n                     @click=\"handlerBrowse(index)\"\n                     :style=\"`background-image: url(${item})`\">\n                    <mu-button color=\"#f44336\" icon small @click.stop=\"onDeletePicture(item, index)\">\n                        <mu-icon value=\"delete\"/>\n                    </mu-button>\n                </div>\n                <mu-ripple class=\"picture border-1px\" @click=\"handlerPicture\" v-if=\"images < 4\">\n                    <mu-icon class=\"append\" value=\"add_a_photo\" size=\"50\"/>\n                </mu-ripple>\n            </div>\n            <mu-form class=\"form\" :model=\"form\" label-position=\"left\" label-width=\"100\" ref=\"form\">\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"name\" label=\"货物名称\" :rules=\"nameRules\">\n                    <mu-text-field v-model=\"form.name\" placeholder=\"请输入货物名称\" prop=\"name\" solo/>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"type\" label=\"货物类型\" :rules=\"goodsRules\">\n                    <mu-select v-model=\"form.type\" placeholder=\"请输入货物类型\" solo>\n                        <mu-option v-for=\"(option, index) in goodsTypeOptions\" :key=\"option.name\" :label=\"option.name\"\n                                   :value=\"option.name\"/>\n                    </mu-select>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"weight\" label=\"货物重量\" :rules=\"weightRules\">\n                    <mu-text-field v-model=\"form.weight\" placeholder=\"请输入货物重量\"\n                                   suffix=\"吨\" prop=\"weight\" type=\"number\"\n                                   solo/>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"price\" label=\"最高限价\" :rules=\"priceRules\">\n                    <mu-text-field v-model=\"form.price\" placeholder=\"请输入最高限价\"\n                                   suffix=\"元/吨\" prop=\"price\" type=\"number\"\n                                   solo/>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" label=\"装货时间\" prop=\"time\"\n                              :rules=\"timeRules\">\n                    <mu-date-input v-model=\"form.time\"\n                                   type=\"dateTime\"\n                                   view-type=\"list\"\n                                   container=\"bottomSheet\"\n                                   placeholder=\"请选择装货时间\"\n                                   solo/>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"loadingPort\" label=\"装货港\" :rules=\"portRules\">\n                    <mu-select v-model=\"form.loadingPort\" placeholder=\"请输入装货港\" solo>\n                        <mu-option v-for=\"(option, index) in portTypeOptions\" :key=\"option.name\" :label=\"option.name\"\n                                   :value=\"option.name\"/>\n                    </mu-select>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"unloadingPort\" label=\"卸货港\" :rules=\"portRules\">\n                    <mu-select v-model=\"form.unloadingPort\" placeholder=\"请输入卸货港\" solo>\n                        <mu-option v-for=\"(option, index) in portTypeOptions\" :key=\"option.name\" :label=\"option.name\"\n                                   :value=\"option.name\"/>\n                    </mu-select>\n                </mu-form-item>\n                <mu-form-item class=\"form-item-s border-1px-b\" prop=\"phone\" label=\"联系方式\" :rules=\"phoneRules\">\n                    <mu-text-field v-model=\"form.phone\" placeholder=\"请输入联系方式\" solo/>\n                </mu-form-item>\n\n            </mu-form>\n        </div>\n    </div>\n    <!-- 新增货源信息 -->\n</template>\n\n<script>\n    import Navigate from \"../../base/navigate/navigate\"\n    import {saveMoment} from \"../../api/dynamic\"\n    import {queryTypeDictByFid} from \"../../api/search\"\n    import {isArray} from \"../../types/index\"\n    import FormatTime from '../../common/utils/time'\n    import ImagePreview from \"vant/lib/image-preview\"\n    import {uploadBase64} from \"../../api/sys\"\n    import {getPictures, getBase64} from \"../../common/js/cordova/camera\"\n\n    export default {\n        name: \"supply\",\n        data() {\n            return {\n                visible: false,\n                addVisible: true,\n                form: {\n                    name: \"\",\n                    type: \"\",\n                    weight: \"\",\n                    price: \"\",\n                    time: \"\",\n                    loadingPort: \"\",\n                    unloadingPort: \"\",\n                    phone: \"\"\n                },\n                images: [],\n                defaultList: [],\n                submitFlag: false,\n                /***\n                 * 表单验证\n                 */\n                nameRules: [\n                    {validate: val => !!val, message: '必须填写货物名称'},\n                    {validate: val => val.length >= 2, message: '货物名称长度大于或等于 2 '}\n                ],\n                weightRules: [\n                    {validate: val => !!val, message: '必须填写货物重量'},\n                    {validate: val => /^(-?\\d+)(\\.\\d{1,2})?$/.test(val), message: '请精确到小数点后两位'}\n                ],\n                priceRules: [\n                    {validate: val => /^(-?\\d+)(\\.\\d{1,2})?$/.test(val), message: '请精确到小数点后两位'}\n                ],\n                timeRules: [\n                    {validate: val => !!val, message: '必须选择装货时间'},\n                ],\n                goodsRules: [\n                    {validate: val => !!val, message: '必须选择货物类型'},\n                    {\n                        validate: val => this.goodsTypeOptions.findIndex(item => item.name === val) !== -1,\n                        message: '请选择正确的货物类型'\n                    }\n                ],\n                portRules: [\n                    {validate: val => !!val, message: '必须选择港口'},\n                    {\n                        validate: val => this.portTypeOptions.findIndex(item => item.name === val) !== -1,\n                        message: '请选择正确的港口类型'\n                    }\n                ],\n                phoneRules: [\n                    {validate: val => !!val, message: '必须填写手机号码'},\n                    {validate: val => /^1\\d{10}$/.test(val), message: '请输入正确的手机号码'}\n                ],\n                /***\n                 * 下拉选项：\n                 *      value:  值\n                 *      name:  名称\n                 */\n                goodsTypeOptions: [],\n                portTypeOptions: []\n            }\n        },\n        created() {\n            this.queryTypeDictByFid()\n        },\n        activated() {\n            this.form = {\n                name: \"\",\n                type: \"\",\n                weight: \"\",\n                price: \"\",\n                time: \"\",\n                loadingPort: \"\",\n                unloadingPort: \"\",\n                phone: \"\"\n            }\n\n            this.images = []\n            this.defaultList = []\n        },\n        methods: {\n            async queryTypeDictByFid() {\n                this.goodsTypeOptions = isArray(await queryTypeDictByFid('009'))\n\n                this.portTypeOptions = isArray(await queryTypeDictByFid('019'))\n            },\n            handlerSubmit() {\n                this.$refs.form.validate().then(result => {\n                    if (result) {\n                        this.submit()\n                    }\n                })\n            },\n            async submit() {\n                const loading = this.$loading();\n\n                const data = {\n                    content: this.splicingContent(),\n                    type: '004002',\n                    mediaType: '003002',\n                    status: '020002'\n                }\n\n                if (this.images.length) {\n                    const images = await Promise.all(this.images.map(item => {\n                        return uploadBase64(item)\n                    }))\n\n                    data.mediaPath = isArray(images).join(';')\n                }\n\n                console.log(data.mediaPath)\n\n                await saveMoment(data)\n\n                loading.close()\n\n                this.$toast('发表成功！')\n\n                this.$emit('refresh')\n\n                this.$router.go(-2)\n            },\n            timeChange(date) {\n                this.form.time = FormatTime.formatDate(date.getTime(), 'YYYY-MM-DD')\n            },\n            /***\n             * 拼接提交内容\n             */\n            splicingContent() {\n                return \"货物名称:\" + this.form.name + \"<br />\" +\n                    \"货物类型:\" + this.form.type + \"<br />\" +\n                    \"货物重量:\" + this.form.weight + \"吨<br />\" +\n                    \"最高限价:\" + this.form.price + \"元/吨<br />\" +\n                    \"装货时间:\" + this.form.time + \"<br />\" +\n                    \"装货港:\" + this.form.loadingPort + \"<br />\" +\n                    \"卸货港:\" + this.form.unloadingPort + \"<br />\" +\n                    \"联系方式:\" + this.form.phone + \"<br />\"\n            },\n            /***\n             * 点击选择图片\n             */\n            handlerPicture() {\n                getPictures(4, this.defaultList).then(images => {\n                    this.images = []\n                    this.defaultList = []\n\n                    Array.prototype.map.call(images, item => {\n                        this.defaultList.push(item.path)\n\n                        getBase64(item).then(res => {\n                            this.images.push(`data:image/jpeg;base64,${res.thumbnailBase64}`)\n                        })\n                    })\n                })\n            },\n            /***\n             * 点击浏览图片\n             */\n            handlerBrowse(index) {\n                ImagePreview({\n                    images: this.images,\n                    startPosition: index\n                })\n            },\n            /***\n             * 点击删除图片\n             */\n            onDeletePicture(item, index) {\n                this.images.splice(index, 1)\n\n                this.defaultList.splice(index, 1)\n            }\n        },\n        components: {\n            Navigate\n        }\n    }\n</script>\n\n<style lang=\"stylus\" scoped>\n    .supply\n        padding-top 46px\n        background-color #fff\n        .appbar\n            position absolute\n            top 0\n            left 0\n            z-index 1\n            width 100%\n            height 46px\n            box-shadow none\n            background-color #3899D7\n            .title\n                color #fff\n                line-height 46px\n                text-align center\n                font-size 15px\n        .scroll-wrapper\n            width 100%\n            height 100%\n            .form\n                .form-item-s\n                    margin 0\n                    padding 10px\n                    .mu-form-item-help\n                        bottom 5px\n                .form-item-buttons\n                    padding 20px 0\n                    .button\n                        color #fff\n                        background-color #2196f3\n                        &.clear\n                            color #999\n                            background-color #fff\n                .button-wrapper\n                    padding 20px 0\n            .picture-wrapper\n                display flex\n                flex-wrap wrap\n                padding 5px\n                width 100%\n                .picture\n                    position relative\n                    margin-right 3px\n                    margin-bottom 3px\n                    padding-top calc(25% - 3px)\n                    height 0\n                    width calc(25% - 3px)\n                    background-position center center\n                    background-repeat no-repeat\n                    background-size cover\n                    background-color #3899d7\n                    .mu-button\n                        position absolute\n                        top 0\n                        right 0\n                .append\n                    color #fff\n                    position absolute\n                    top 50%\n                    left 50%\n                    transform translate3d(-50%, -50%, 0)\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/dynamic/supply-info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"supply\"},[_c('mu-appbar',{staticClass:\"appbar\"},[_c('mu-button',{attrs:{\"slot\":\"left\",\"color\":\"#fff\",\"icon\":\"\"},on:{\"click\":function($event){_vm.$router.back()}},slot:\"left\"},[_c('mu-icon',{attrs:{\"value\":\"navigate_before\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"货源信息\")]),_vm._v(\" \"),_c('mu-button',{attrs:{\"slot\":\"right\",\"color\":\"#fff\",\"flat\":\"\"},on:{\"click\":_vm.handlerSubmit},slot:\"right\"},[_vm._v(\"\\n            发送\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{staticClass:\"picture-wrapper border-1px-b\"},[_vm._l((_vm.images),function(item,index){return (item)?_c('div',{key:index,staticClass:\"picture\",style:((\"background-image: url(\" + item + \")\")),on:{\"click\":function($event){_vm.handlerBrowse(index)}}},[_c('mu-button',{attrs:{\"color\":\"#f44336\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.onDeletePicture(item, index)}}},[_c('mu-icon',{attrs:{\"value\":\"delete\"}})],1)],1):_vm._e()}),_vm._v(\" \"),(_vm.images < 4)?_c('mu-ripple',{staticClass:\"picture border-1px\",on:{\"click\":_vm.handlerPicture}},[_c('mu-icon',{staticClass:\"append\",attrs:{\"value\":\"add_a_photo\",\"size\":\"50\"}})],1):_vm._e()],2),_vm._v(\" \"),_c('mu-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"100\"}},[_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"name\",\"label\":\"货物名称\",\"rules\":_vm.nameRules}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入货物名称\",\"prop\":\"name\",\"solo\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"type\",\"label\":\"货物类型\",\"rules\":_vm.goodsRules}},[_c('mu-select',{attrs:{\"placeholder\":\"请输入货物类型\",\"solo\":\"\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.goodsTypeOptions),function(option,index){return _c('mu-option',{key:option.name,attrs:{\"label\":option.name,\"value\":option.name}})}))],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"weight\",\"label\":\"货物重量\",\"rules\":_vm.weightRules}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入货物重量\",\"suffix\":\"吨\",\"prop\":\"weight\",\"type\":\"number\",\"solo\":\"\"},model:{value:(_vm.form.weight),callback:function ($$v) {_vm.$set(_vm.form, \"weight\", $$v)},expression:\"form.weight\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"price\",\"label\":\"最高限价\",\"rules\":_vm.priceRules}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入最高限价\",\"suffix\":\"元/吨\",\"prop\":\"price\",\"type\":\"number\",\"solo\":\"\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"label\":\"装货时间\",\"prop\":\"time\",\"rules\":_vm.timeRules}},[_c('mu-date-input',{attrs:{\"type\":\"dateTime\",\"view-type\":\"list\",\"container\":\"bottomSheet\",\"placeholder\":\"请选择装货时间\",\"solo\":\"\"},model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"loadingPort\",\"label\":\"装货港\",\"rules\":_vm.portRules}},[_c('mu-select',{attrs:{\"placeholder\":\"请输入装货港\",\"solo\":\"\"},model:{value:(_vm.form.loadingPort),callback:function ($$v) {_vm.$set(_vm.form, \"loadingPort\", $$v)},expression:\"form.loadingPort\"}},_vm._l((_vm.portTypeOptions),function(option,index){return _c('mu-option',{key:option.name,attrs:{\"label\":option.name,\"value\":option.name}})}))],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"unloadingPort\",\"label\":\"卸货港\",\"rules\":_vm.portRules}},[_c('mu-select',{attrs:{\"placeholder\":\"请输入卸货港\",\"solo\":\"\"},model:{value:(_vm.form.unloadingPort),callback:function ($$v) {_vm.$set(_vm.form, \"unloadingPort\", $$v)},expression:\"form.unloadingPort\"}},_vm._l((_vm.portTypeOptions),function(option,index){return _c('mu-option',{key:option.name,attrs:{\"label\":option.name,\"value\":option.name}})}))],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item-s border-1px-b\",attrs:{\"prop\":\"phone\",\"label\":\"联系方式\",\"rules\":_vm.phoneRules}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入联系方式\",\"solo\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32db5209\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/dynamic/supply-info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32db5209\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./supply-info.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./supply-info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./supply-info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32db5209\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./supply-info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32db5209\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/dynamic/supply-info.vue\n// module id = null\n// module chunks = ","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-32db5209\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/dynamic/supply-info.vue\n// module id = YrTZ\n// module chunks = 21","export function savePicture() {\n    return new Promise((resolve, reject) => {\n        if (window.ImagePicker && typeof window.ImagePicker.getPictures === 'function') {\n            return reject('无法打开相册')\n        }\n\n        window.ImagePicker.getPictures(result => {\n            resolve(JSON.stringify(result))\n        }, reject)\n    })\n}\n\nexport function getPictures(maxCount = 9, defaultList = null) {\n    return new Promise((resolve, reject) => {\n        if (!window.MediaPicker || typeof window.MediaPicker.getMedias !== 'function') {\n            return reject('无法打开相册')\n        }\n\n        const options = {\n            'selectMode': 100, //101=picker image and video , 100=image , 102=video\n            'maxSelectCount': maxCount, //default 40 (Optional)\n            'maxSelectSize': 10485760, //10485760=10M (Optional)\n            'defaultSelectedList': defaultList\n        }\n\n        window.MediaPicker.getMedias(options, resolve, reject)\n    })\n}\n\nexport function getBase64(item) {\n    return new Promise((resolve, reject) => {\n        if (!window.MediaPicker || typeof window.MediaPicker.extractThumbnail !== 'function') {\n            return reject('没有找到转换文件方法')\n        }\n\n        window.MediaPicker.extractThumbnail(item, resolve, reject)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cordova/camera.js"],"sourceRoot":""}