{"version":3,"sources":["webpack:///src/components/map/address-button/address-button.vue","webpack:///./src/components/map/address-button/address-button.vue?4dd0","webpack:///./src/components/map/address-button/address-button.vue","webpack:///./src/components/map/location-button/location-button.vue?3307","webpack:///./static/icon/detailed_collection.png","webpack:///src/components/map/location-button/location-button.vue","webpack:///./src/components/map/location-button/location-button.vue?9647","webpack:///./src/components/map/location-button/location-button.vue","webpack:///src/components/map/center-button/center-button.vue","webpack:///./src/components/map/center-button/center-button.vue?55d9","webpack:///./src/components/map/center-button/center-button.vue","webpack:///./src/components/map/center-button/center-button.vue?7959","webpack:///./src/components/map/address-button/address-button.vue?761b","webpack:///./src/views/selection/index.vue?1f1c","webpack:///./static/image/error-place.png","webpack:///src/views/selection/index.vue","webpack:///./src/views/selection/index.vue?0ad8","webpack:///./src/views/selection/index.vue"],"names":[],"mappings":"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","file":"static/js/2.js","sourcesContent":["<template>\r\n    <mu-ripple class=\"map-address-button fc aic\" v-loading=\"loading\" data-mu-loading-size=\"15\" @click=\"handlerClick\">\r\n        <mu-icon value=\":GDHDT-icons-button-address\" size=\"20\"/>\r\n        <span class=\"fz-12 lh\">地址</span>\r\n        <mu-popover class=\"popover border-1px\" :class=\"cs\" placement=\"top\" :open=\"open\">\r\n            <div class=\"map-address-button-content\">\r\n                <mu-load-more @load=\"handlerLoad\" :loading=\"more.loading\">\r\n                    <div class=\"item border-1px-b\" v-for=\"item in list\" @click=\"onClickItem(item)\">\r\n                        <div class=\"mr-10\">\r\n                            <img class=\"icon\" src=\"../../../../static/icon/detailed_collection.png\">\r\n                        </div>\r\n                        <div class=\"title\">{{item.name}}</div>\r\n                    </div>\r\n                </mu-load-more>\r\n            </div>\r\n        </mu-popover>\r\n    </mu-ripple>\r\n</template>\r\n\r\n<script>\r\n    import Shelter from '../../../base/shelter'\r\n    import {MapMixins} from \"../../../common/js/mixins\"\r\n    import {userMixins} from \"../../../common/mixins\"\r\n    import {queryIAddress} from \"../../../api/personal\"\r\n    import {mapGetters} from 'vuex'\r\n\r\n\r\n    export default {\r\n        name: \"map-address-button\",\r\n        mixins: [userMixins, MapMixins],\r\n        data() {\r\n            return {\r\n                open: false,\r\n                loading: false,\r\n                list: [],\r\n                params: {\r\n                    pageNumber: 0,\r\n                    pageSize: 10\r\n                },\r\n                more: {\r\n                    loading: false,\r\n                    loadedAll: false\r\n                }\r\n            }\r\n        },\r\n        props: {\r\n            cs: {\r\n                type: String,\r\n                default: ''\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters({\r\n                novice: 'novice/novice'\r\n            })\r\n        },\r\n        methods: {\r\n            // 点击按钮\r\n            handlerClick() {\r\n                if (this.novice === 1) return\r\n\r\n                if (this.loading) {\r\n                    return\r\n                }\r\n\r\n                if (this.isLogin) {\r\n                    this.loading = true\r\n                    this.params.pageNumber = 0\r\n\r\n                    queryIAddress(this.params).then(res => {\r\n                        if (res.content.length) {\r\n                            this.list = res.content\r\n                            this.open = true\r\n                        } else {\r\n                            this.$toast('您还没有添加常用地址')\r\n                        }\r\n\r\n                        this.loading = false\r\n                    })\r\n                } else {\r\n                    this.$toast('您还没有登录，不能查看常用地址')\r\n                }\r\n            },\r\n            // 点击选项\r\n            onClickItem(item) {\r\n                this.setCenter(item.longitude, item.latitude)\r\n                this.open = false\r\n            },\r\n            handlerLoad() {\r\n                this.params.pageNumber++\r\n                this.more.loading = true\r\n\r\n                queryIAddress(this.params).then(res => {\r\n                    if (res && res.content && res.content.length) {\r\n                        this.list.push(...res.content)\r\n                        this.more.loading = false\r\n                    } else {\r\n                        this.more.loading = false\r\n                        this.more.loadedAll = true\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        watch: {\r\n            open(value) {\r\n                if (value) {\r\n                    Shelter.show({\r\n                        zIndex: '12000',\r\n                        onClose: () => {\r\n                            this.open = false\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.more.loadedAll = false\r\n\r\n                    Shelter.close()\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    .map-address-button\r\n        font-weight 300\r\n\r\n    .popover\r\n        position absolute\r\n        bottom 120px\r\n        right 13px\r\n        box-shadow none\r\n        border-radius 5px\r\n        overflow hidden\r\n\r\n    .map-address-button-content\r\n        width 200px\r\n        max-height 50vh\r\n        overflow-x hidden\r\n        overflow-y auto\r\n\r\n        .item\r\n            display flex\r\n            align-items center\r\n            padding 10px 15px\r\n\r\n        .icon\r\n            width 14px\r\n            height 14px\r\n\r\n        .title\r\n            font-size 14px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/map/address-button/address-button.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mu-ripple',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"map-address-button fc aic\",attrs:{\"data-mu-loading-size\":\"15\"},on:{\"click\":_vm.handlerClick}},[_c('mu-icon',{attrs:{\"value\":\":GDHDT-icons-button-address\",\"size\":\"20\"}}),_vm._v(\" \"),_c('span',{staticClass:\"fz-12 lh\"},[_vm._v(\"地址\")]),_vm._v(\" \"),_c('mu-popover',{staticClass:\"popover border-1px\",class:_vm.cs,attrs:{\"placement\":\"top\",\"open\":_vm.open}},[_c('div',{staticClass:\"map-address-button-content\"},[_c('mu-load-more',{attrs:{\"loading\":_vm.more.loading},on:{\"load\":_vm.handlerLoad}},_vm._l((_vm.list),function(item){return _c('div',{staticClass:\"item border-1px-b\",on:{\"click\":function($event){_vm.onClickItem(item)}}},[_c('div',{staticClass:\"mr-10\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../../../static/icon/detailed_collection.png\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))])])}))],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d18dacc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map/address-button/address-button.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d18dacc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./address-button.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./address-button.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./address-button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d18dacc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./address-button.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d18dacc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map/address-button/address-button.vue\n// module id = null\n// module chunks = ","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-14138808\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/map/location-button/location-button.vue\n// module id = Dpvh\n// module chunks = 2 9","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODdmNjg4ZjAtZTEyYy1kMTQxLThiMjYtMzY3MzRiMWZlNGFmIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDMEUxMTFBRDM3MTExRTg4MzExOEZDQUFCMjQzQzQyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDMEUxMTE5RDM3MTExRTg4MzExOEZDQUFCMjQzQzQyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZmM0M2QzMi1jYWM4LTFkNDYtYjc3Mi01YzE5MDU3YmJjMWIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODdmNjg4ZjAtZTEyYy1kMTQxLThiMjYtMzY3MzRiMWZlNGFmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3MdwVQAAA2xJREFUeNrcmlloE1EYhSepdSlptCqiEcW1mtrFFnwQRBSKS93AFZdCUYwboqIIPiv4oG++BSqIglXRigsqStGHpi644oNSxYKKCxUraFFpjec3J9AHk7kzucPM5IePJp3JnZy7/ufeBJLJpJEP0S/9Ih6PO1H+AlDH5yRAE+hxVIgDsRccAQG+30ZhG8Fv3Q8LOiSiAhzsIyId60GDEw90SshuMCjDNWmZYX4QUgVWZrk+3eS6Z4RsB2GTezaDIV4WImNjtcJ91Yr3uSZkh2JNy3O3gGIvComCNRbur9Q5VnQK2Wqx38saFgMhLwkpBRtsfG4GWO4lIdIaQ218roAzWLEXhEziim03ZoLFbgsJcxUfkUMZ0iq7OPjDdgtRTRpDHMhjwTTOUPJ3DJisoVVrQAv4BDrAC/IUvAdd4IcVIYWgBEwkMojL+YVHgdEO5WaFzL+EMqb+EmKW3oDP4B14Al6B1/z/l3QBATFW8CLy5feAWtbwYBbu1fgFvoI74LC0XEEkEinCizNgE2u+iP3W64YwxN6yCDTLYF8HFvrY5Url1wc5aP0eNSKkMw+EdIuQq+Cbj0X0gtPBWCwmU9pOp3Y3HA6Zng9IY/xb2SHmJPOl7z4SITsx+7lTk+ybojQygevygYifYB84minXauJ07OUJoJtO9JhZ0ngNLAVvPShCJqUGcFw1+20Dy0C7h0R00ryds5rGP6anfu4BER/BWnDFrh95RjFtLoqQrHcFuJWrsXoJloDbLohoZ1KY0OUQJe8/74KQu+wVWq1utQtCKlV9kaoQ8SdVLggZqepKVYU4aXOzRQn9hjYhUthwF4T0Z/fSJqTMcPaYLltM1Smk3MV1pFSnkKiLQipUurWKkDC7lluR3mfLWcgEw4HDSwsx0FDYzVQRMsVI7XXZjVZwM0cxUR1C7C6E94zUpt8cMI8e5zp9ttWQrh3IVch4iw+VBE+O4GppgNKbGpeN1PGBbAbesFjmOLNeoSJEdWa7D+rBXHA2w0ZGL0XU0bi1KJY9QEeLtJpcf0j7KQJOGWq/M/kDLoH59BpmfueRYXKsoCKkkT7+fwLEes4CJ7gpYDWk210As2ngEhk8ySGzsaWSdkhNyOG+nIvL4eUH1uBFQ9+vfHrod5rBKoqSQ6UH3PLpMCsgkC8/PPsrwADE4pxXoPwHSwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icon/detailed_collection.png\n// module id = HoBz\n// module chunks = 2 9","<template>\r\n    <mu-ripple v-loading=\"loading\"\r\n               data-mu-loading-overlay-color=\"#fff\"\r\n               data-mu-loading-size=\"15\"\r\n               data-mu-loading-color=\"#7e8c8d\"\r\n               data-mu-loading-class=\"load\"\r\n               @click=\"handlerLocation\">\r\n        <mu-icon value=\":GDHDT-icons-button-position\" size=\"20\"/>\r\n        <span class=\"fz-12 lh\">定位</span>\r\n    </mu-ripple>\r\n</template>\r\n\r\n<script>\r\n    import {MapMixins} from \"../../../common/js/mixins\"\r\n    import {mapGetters} from 'vuex'\r\n    import {appMixins} from \"../../../common/mixins\"\r\n\r\n    export default {\r\n        name: \"map-location-button\",\r\n        mixins: [appMixins, MapMixins],\r\n        data() {\r\n            return {\r\n                loading: false\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters({\r\n                novice: 'novice/novice'\r\n            })\r\n        },\r\n        methods: {\r\n            // 点击定位\r\n            handlerLocation() {\r\n                if (this.novice === 0) return\r\n\r\n                if (!this.gps) {\r\n                    this.$toast('定位服务未开启！')\r\n                    return\r\n                }\r\n\r\n                this.loading = true\r\n\r\n                this.getLocation().then(res => {\r\n                    this.setCenter(res.x, res.y, true).then(res => {\r\n                        this.loading = false\r\n                    }).catch(err => {\r\n                        this.loading = false\r\n                        this.$toast(err)\r\n                    })\r\n                }).catch(error => {\r\n                    this.loading = false\r\n                    this.$toast(error)\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/map/location-button/location-button.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mu-ripple',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data-mu-loading-overlay-color\":\"#fff\",\"data-mu-loading-size\":\"15\",\"data-mu-loading-color\":\"#7e8c8d\",\"data-mu-loading-class\":\"load\"},on:{\"click\":_vm.handlerLocation}},[_c('mu-icon',{attrs:{\"value\":\":GDHDT-icons-button-position\",\"size\":\"20\"}}),_vm._v(\" \"),_c('span',{staticClass:\"fz-12 lh\"},[_vm._v(\"定位\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14138808\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map/location-button/location-button.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14138808\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./location-button.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location-button.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location-button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14138808\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./location-button.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14138808\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map/location-button/location-button.vue\n// module id = null\n// module chunks = ","<template>\r\n    <!-- center icon -->\r\n    <div class=\"map-center-icon\" data-enable=\"true\" @click.self=\"$emit('click', $event)\">\r\n        <div class=\"paper paper-before map-center-selected\" :class=\"{'map-center-route': !showCancel}\"\r\n             data-enable=\"true\" v-if=\"panel\">\r\n            <div class=\"button\" data-enable=\"true\" @click=\"confirm\">{{confirmText}}</div>\r\n            <template v-if=\"showCancel\">\r\n                <div class=\"line border-1px-l\" data-enable=\"true\"></div>\r\n                <div class=\"button\" data-enable=\"true\" @click=\"cancel\">{{cancelText}}</div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n    <!-- center icon -->\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"mp-center-button\",\r\n        props: {\r\n            panel: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            confirmText: {\r\n                type: String,\r\n                default: '新增'\r\n            },\r\n            cancelText: {\r\n                type: String,\r\n                default: '取消'\r\n            },\r\n            showCancel: {\r\n                type: Boolean,\r\n                default: true\r\n            }\r\n        },\r\n        methods: {\r\n            confirm() {\r\n                this.$emit('confirm')\r\n            },\r\n            cancel() {\r\n                this.$emit('cancel')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    .map-center-icon\r\n        width 30px\r\n        height 30px\r\n        background url(\"../../../../static/icon/map_tagging.png\") center center no-repeat\r\n        background-size 100%\r\n    \r\n    .map-center-selected\r\n        position absolute\r\n        top -50px\r\n        left 50%\r\n        display flex\r\n        align-items center\r\n        justify-content center\r\n        height 40px\r\n        width 170px\r\n        background-color #fff\r\n        border-radius 5px\r\n        box-shadow 0 0 7px -2px rgba(100, 100, 100, .33)\r\n        transform translate3d(-50%, 0, 0)\r\n        \r\n        &.map-center-route\r\n            width 85px\r\n        \r\n        &:before\r\n            content ''\r\n            position absolute\r\n            bottom 0\r\n            left 50%\r\n            width 0\r\n            height 0\r\n            border 5px solid #fff\r\n            transform translate3d(-50%, 50%, 0) rotate(45deg)\r\n        \r\n        .button\r\n            position relative\r\n            flex 1\r\n            height 40px\r\n            line-height 40px\r\n            font-size 14px\r\n            text-align center\r\n        \r\n        .line\r\n            width 1px\r\n            height 60%\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/map/center-button/center-button.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-center-icon\",attrs:{\"data-enable\":\"true\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.$emit('click', $event)}}},[(_vm.panel)?_c('div',{staticClass:\"paper paper-before map-center-selected\",class:{'map-center-route': !_vm.showCancel},attrs:{\"data-enable\":\"true\"}},[_c('div',{staticClass:\"button\",attrs:{\"data-enable\":\"true\"},on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmText))]),_vm._v(\" \"),(_vm.showCancel)?[_c('div',{staticClass:\"line border-1px-l\",attrs:{\"data-enable\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"button\",attrs:{\"data-enable\":\"true\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelText))])]:_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b662358\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map/center-button/center-button.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b662358\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./center-button.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./center-button.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./center-button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b662358\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./center-button.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0b662358\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map/center-button/center-button.vue\n// module id = null\n// module chunks = ","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0b662358\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/map/center-button/center-button.vue\n// module id = RiTZ\n// module chunks = 2 9","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0d18dacc\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/map/address-button/address-button.vue\n// module id = YhbO\n// module chunks = 2 9","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-07281345\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/selection/index.vue\n// module id = YpZA\n// module chunks = 2","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODdmNjg4ZjAtZTEyYy1kMTQxLThiMjYtMzY3MzRiMWZlNGFmIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk0MjBBNjY1RDM3MjExRThBMDU4QzY3NDU0NEM0N0I3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk0MjBBNjY0RDM3MjExRThBMDU4QzY3NDU0NEM0N0I3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZmM0M2QzMi1jYWM4LTFkNDYtYjc3Mi01YzE5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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/image/error-place.png\n// module id = ck1B\n// module chunks = 2","<template>\r\n    <div class=\"selection\" data-enable=\"true\">\r\n        <navigate title=\"地图选点\" position=\"absolute\"/>\r\n\r\n        <!-- 搜索框 -->\r\n        <div class=\"selection-search paper flex aic shadow\" v-if=\"$route.name === 'selection-cl'\">\r\n            <mu-text-field v-model=\"query\" placeholder=\"输入关键字搜索距离您最近的地址 ...\"\r\n                           :action-icon=\"query ? 'close' : ''\"\r\n                           :action-click=\"clear\"\r\n                           @keydown.enter=\"search\"\r\n                           full-width solo/>\r\n            <mu-icon class=\"extend-click ml-10\" @click=\"search\" value=\"search\"/>\r\n        </div>\r\n        <!-- 搜索框 -->\r\n\r\n        <!-- 定位 -->\r\n        <location-button class=\"map-button shadow map-location-button\"/>\r\n\r\n        <!-- 选择常用地址按钮 -->\r\n        <address-button class=\"map-button shadow map-address-button\" cs=\"selection-cs\"/>\r\n\r\n        <div class=\"place-wrapper paper border-1px-t shadow\" v-loading=\"loading\" data-mu-loading-size=\"30\">\r\n            <div class=\"scroll-wrapper\" v-if=\"list.length\">\r\n                <mu-list class=\"place-list\">\r\n                    <mu-list-item class=\"place-list-item border-1px-b\" v-for=\"(item, index) in list\" :key=\"index\">\r\n                        <mu-list-item-action>\r\n                            <mu-avatar :color=\"item.typeId | formatFind(icons, 'color', 'typeId')\">\r\n                                <img class=\"types-icon\"\r\n                                     v-lazy=\"{\r\n                                             error: require('../../../static/image/error-place.png'),\r\n                                             src: findTypes(item.typeId, icons, 'value', 'typeId')\r\n                                }\">\r\n                            </mu-avatar>\r\n                        </mu-list-item-action>\r\n                        <mu-list-item-content>\r\n                            <mu-list-item-title>{{item.name}}</mu-list-item-title>\r\n                            <mu-list-item-sub-title>\r\n                                {{item.dist | formatDistance(item.dist > 1000 ? 100 : 1)}}\r\n                                {{item.dist > 1000 ? '公里' : '米'}}\r\n                            </mu-list-item-sub-title>\r\n                        </mu-list-item-content>\r\n                        <mu-list-item-action>\r\n                            <mu-button color=\"primary\" data-mu-loading-size=\"16\"\r\n                                       v-loading=\"item.loading\"\r\n                                       :disabled=\"item.loading\"\r\n                                       @click=\"selection(item, index)\" flat>\r\n                                确认\r\n                            </mu-button>\r\n                        </mu-list-item-action>\r\n                    </mu-list-item>\r\n                </mu-list>\r\n            </div>\r\n            <no-success text=\"附近没有推荐地点\" height=\"100%\" v-else/>\r\n        </div>\r\n\r\n        <center-button ref=\"center\" :panel=\"panel\"  :showCancel=\"showCancel\" :confirm-text=\"confirmText\"\r\n                       @click=\"panel = !panel\"\r\n                       @confirm=\"handlerConfirm\"\r\n                       @cancel=\"handlerCancel\"/>\r\n\r\n        <div class=\"selection-map-tip\">{{tips}}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from 'vue'\r\n    import Navigate from \"../../base/navigate/navigate\"\r\n    import LocationButton from '../../components/map/location-button/location-button'\r\n    import AddressButton from '../../components/map/address-button/address-button'\r\n    import CenterButton from '../../components/map/center-button/center-button'\r\n    import {appMixins, routeMixins} from \"../../common/mixins\"\r\n    import {getNavigationPoint} from \"../../api/navigation\"\r\n    import {saveOrUpdateIAddress} from \"../../api/personal\"\r\n    import {screenToLocation} from \"../../common/js/cordova/map\"\r\n    import {isArray, debounce} from \"../../types/index\"\r\n    import NoSuccess from \"../../base/no-success/no-success\"\r\n\r\n    import {tips} from \"../../types/tips\"\r\n\r\n    const name = 'SELECTION'\r\n\r\n    export default {\r\n        name,\r\n        mixins: [appMixins, routeMixins],\r\n        data() {\r\n            return {\r\n                query: '',\r\n                list: [],\r\n                loading: false,\r\n                panel: true,\r\n                showCancel:false,\r\n                tips: tips.map_tips.map\r\n            }\r\n        },\r\n        computed: {\r\n            title() {\r\n                switch (this.$route.name) {\r\n                    case 'selection-sn':\r\n                        return '选择起点'\r\n                    case 'selection-en':\r\n                        return '选择终点'\r\n                    case 'selection-cl':\r\n                        return '收藏地点'\r\n                    default:\r\n                        return '地图选点'\r\n                }\r\n            },\r\n            confirmText() {\r\n\r\n                if(this.$route.name !== 'selection-cl')\r\n                     this.panel = true ;\r\n                return this.$route.name === 'selection-cl' ? '添加' : '确认'\r\n            }\r\n        },\r\n        activated() {\r\n            // 地图移动，刷新\r\n            window.$types.map.selection.move = debounce(this.moveEnd, 300)\r\n\r\n            window.Arcgis && window.Arcgis.getSelectCenter(res => {\r\n                this.moveEnd()\r\n            })\r\n        },\r\n        methods: {\r\n            // 搜索\r\n            search() {\r\n                this.moveEnd()\r\n            },\r\n            // 清空搜索框\r\n            clear() {\r\n                this.query = ''\r\n\r\n                this.moveEnd()\r\n            },\r\n            getPosition() {\r\n                const {offsetTop, offsetLeft, offsetWidth, offsetHeight} = this.$refs.center.$el\r\n\r\n                const {x, y} = {x: offsetLeft + offsetWidth / 2, y: offsetTop + offsetHeight}\r\n\r\n                return screenToLocation(x, y).then(point => {\r\n                    console.log('当前位置: ', point, '屏幕位置: ', {x, y})\r\n\r\n                    return Promise.resolve(point)\r\n                })\r\n            },\r\n            // 移动地图获取数据\r\n            async moveEnd() {\r\n                this.loading = true\r\n\r\n                const point = await this.getPosition()\r\n\r\n                this.list = isArray(await getNavigationPoint({\r\n                    name: this.query,\r\n                    centerPoint: {\r\n                        latitude: point.y,\r\n                        longitude: point.x\r\n                    },\r\n                    distance: 3\r\n                }))\r\n\r\n                this.loading = false\r\n            },\r\n            // 选中某一项\r\n            selection(item) {\r\n                this.handlerCancel()\r\n\r\n                if (this.$route.name === 'selection-sn') {\r\n                    this.setRouteSn(item)\r\n                    this.$router.go(-2)\r\n                }\r\n\r\n                if (this.$route.name === 'selection-en') {\r\n                    this.setRouteEn(item)\r\n                    this.$router.go(-2)\r\n                }\r\n\r\n                if (this.$route.name === 'selection-cl') {\r\n                    item.loading = true\r\n\r\n                    saveOrUpdateIAddress({\r\n                        name: item.name,\r\n                        longitude: item.longitude,\r\n                        latitude: item.latitude\r\n                    }).then(res => {\r\n                        this.$toast('收藏成功')\r\n\r\n                        this.$router.back()\r\n                    }).catch(err => {\r\n                        this.$toast('收藏失败')\r\n\r\n                        item.loading = false\r\n                    })\r\n                }\r\n            },\r\n            // 筛选\r\n            findTypes() {\r\n                return Vue.filter('formatFind')(...arguments)\r\n            },\r\n            handlerConfirm() {\r\n                this.getPosition().then(point => {\r\n                    if (this.$route.name === 'selection-cl') {\r\n                        this.$prompt('请给当前位置命名？', '提示', {\r\n                            validator(value) {\r\n                                return {\r\n                                    valid: !!value,\r\n                                    message: '请给您当前选择的位置命名！'\r\n                                }\r\n                            }\r\n                        }).then(({result, value}) => {\r\n                            result && this.selection({\r\n                                name: value,\r\n                                latitude: point.y,\r\n                                longitude: point.x\r\n                            })\r\n                        })\r\n                    } else {\r\n                        this.selection({\r\n                            name: '地图选点位置',\r\n                            latitude: point.y,\r\n                            longitude: point.x\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            handlerCancel() {\r\n                this.panel = false\r\n            }\r\n        },\r\n        components: {\r\n            NoSuccess,\r\n            Navigate,\r\n            CenterButton,\r\n            LocationButton,\r\n            AddressButton\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n    .selection\r\n        position absolute\r\n        top 0\r\n        left 0\r\n        right 0\r\n        bottom 0\r\n        background transparent !important\r\n        overflow hidden\r\n\r\n        .selection-search\r\n            position absolute\r\n            top 46px\r\n            left 0\r\n            right 0\r\n            padding 0 13px\r\n\r\n        > .map-location-button\r\n            position absolute\r\n            left 13px\r\n            bottom 32%\r\n            bottom calc(30% + 10px)\r\n            width 42px\r\n            height 42px\r\n\r\n        > .map-address-button\r\n            position absolute\r\n            right 13px\r\n            bottom 32%\r\n            bottom calc(30% + 10px)\r\n            width 42px\r\n            height 42px\r\n\r\n        > .place-wrapper\r\n            position: absolute\r\n            top 70%\r\n            bottom 0\r\n            left 0\r\n            right 0\r\n            z-index 100\r\n\r\n            .scroll-wrapper\r\n                width 100%\r\n                height 100%\r\n\r\n                .place-list\r\n                    padding 0\r\n\r\n                    .place-list-item\r\n                        padding 10px 0\r\n\r\n                    .types-icon\r\n                        padding 8px\r\n\r\n        > .map-center-icon\r\n            position absolute\r\n            top 35%\r\n            top calc(35% + 46px)\r\n            left 50%\r\n            z-index 2001\r\n            transform translate3d(-50%, -100%, 0)\r\n\r\n    .selection-cs\r\n        transform translate3d(0, -40%, 0)\r\n\r\n\r\n    .selection-map-tip\r\n        position absolute\r\n        bottom 50%\r\n        right 13px\r\n        padding 0 9px\r\n        width 32px\r\n        line-height 1.47625\r\n        text-align center\r\n        font-size 12px\r\n        color rgba(123, 123, 123, 0.3)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/selection/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selection\",attrs:{\"data-enable\":\"true\"}},[_c('navigate',{attrs:{\"title\":\"地图选点\",\"position\":\"absolute\"}}),_vm._v(\" \"),(_vm.$route.name === 'selection-cl')?_c('div',{staticClass:\"selection-search paper flex aic shadow\"},[_c('mu-text-field',{attrs:{\"placeholder\":\"输入关键字搜索距离您最近的地址 ...\",\"action-icon\":_vm.query ? 'close' : '',\"action-click\":_vm.clear,\"full-width\":\"\",\"solo\":\"\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_vm._v(\" \"),_c('mu-icon',{staticClass:\"extend-click ml-10\",attrs:{\"value\":\"search\"},on:{\"click\":_vm.search}})],1):_vm._e(),_vm._v(\" \"),_c('location-button',{staticClass:\"map-button shadow map-location-button\"}),_vm._v(\" \"),_c('address-button',{staticClass:\"map-button shadow map-address-button\",attrs:{\"cs\":\"selection-cs\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"place-wrapper paper border-1px-t shadow\",attrs:{\"data-mu-loading-size\":\"30\"}},[(_vm.list.length)?_c('div',{staticClass:\"scroll-wrapper\"},[_c('mu-list',{staticClass:\"place-list\"},_vm._l((_vm.list),function(item,index){return _c('mu-list-item',{key:index,staticClass:\"place-list-item border-1px-b\"},[_c('mu-list-item-action',[_c('mu-avatar',{attrs:{\"color\":_vm._f(\"formatFind\")(item.typeId,_vm.icons, 'color', 'typeId')}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:({\n                                         error: require('../../../static/image/error-place.png'),\n                                         src: _vm.findTypes(item.typeId, _vm.icons, 'value', 'typeId')\n                            }),expression:\"{\\n                                         error: require('../../../static/image/error-place.png'),\\n                                         src: findTypes(item.typeId, icons, 'value', 'typeId')\\n                            }\"}],staticClass:\"types-icon\"})])],1),_vm._v(\" \"),_c('mu-list-item-content',[_c('mu-list-item-title',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('mu-list-item-sub-title',[_vm._v(\"\\n                            \"+_vm._s(_vm._f(\"formatDistance\")(item.dist,item.dist > 1000 ? 100 : 1))+\"\\n                            \"+_vm._s(item.dist > 1000 ? '公里' : '米')+\"\\n                        \")])],1),_vm._v(\" \"),_c('mu-list-item-action',[_c('mu-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(item.loading),expression:\"item.loading\"}],attrs:{\"color\":\"primary\",\"data-mu-loading-size\":\"16\",\"disabled\":item.loading,\"flat\":\"\"},on:{\"click\":function($event){_vm.selection(item, index)}}},[_vm._v(\"\\n                            确认\\n                        \")])],1)],1)}))],1):_c('no-success',{attrs:{\"text\":\"附近没有推荐地点\",\"height\":\"100%\"}})],1),_vm._v(\" \"),_c('center-button',{ref:\"center\",attrs:{\"panel\":_vm.panel,\"showCancel\":_vm.showCancel,\"confirm-text\":_vm.confirmText},on:{\"click\":function($event){_vm.panel = !_vm.panel},\"confirm\":_vm.handlerConfirm,\"cancel\":_vm.handlerCancel}}),_vm._v(\" \"),_c('div',{staticClass:\"selection-map-tip\"},[_vm._v(_vm._s(_vm.tips))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07281345\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/selection/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07281345\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07281345\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/selection/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}