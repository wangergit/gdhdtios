{"version":3,"sources":["webpack:///./src/views/user/forget.vue?3717","webpack:///src/views/user/forget.vue","webpack:///./src/views/user/forget.vue?a790","webpack:///./src/views/user/forget.vue"],"names":[],"mappings":";;;;;;;;;;;;AAAA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4EA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBADA;AAEA,QAFA,kBAEA;AACA;AACA;;;AAGA,0BAJA;AAKA,mBACA,+BADA,EAEA,kCAFA,CALA;AASA;;;AAGA,8BAZA;AAaA,8BAbA;AAcA;;;AAGA;AACA,yBADA;AAEA,wBAFA;AAGA,6BAHA;AAIA;AAJA,aAjBA;AAuBA;;;AAGA;AACA,2BADA;AAEA,8BAFA;AAGA,6BAHA;AAIA;AAJA;AA1BA;AAiCA,KApCA;;AAqCA;AACA,qBADA,2BACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SATA;AAUA,oBAVA,0BAUA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAzBA,KArCA;AAgEA,aAhEA,uBAgEA;AACA;AACA,qBADA;AAEA,oBAFA;AAGA,yBAHA;AAIA;AAJA;AAMA,KAvEA;;AAwEA;AACA;AACA,cAFA,oBAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,SARA;;AASA;AACA,YAVA,kBAUA;AACA;AACA;;AAEA;AACA;AACA,SAhBA;;AAiBA;AACA,mBAlBA,yBAkBA;AAAA;;AACA,YAAY,oCAAZ;AACA,gBAAgB,kCAAhB;AACA,aAFA;AAGA,SAtBA;AAuBA,cAvBA,oBAuBA;AAAA;;AACA;AACA,sCADA;AAEA,oCAFA;AAGA;AAHA;;AAMA,YAAY,sCAAZ;AACA;;AAEA;AACA,aAJA;AAKA;AAnCA,KAxEA;AA6GA;AACA,oBADA,qBACA,KADA,EACA;AACA;;AAEA,YAAY,kCAAZ;AACA;AALA,KA7GA;AAoHA;AACA;AADA;AApHA,G;;AClFA;AACA;AACA,aAAa,0BAA0B,wBAAwB,iBAAiB,qBAAqB,iBAAiB,OAAO,iKAAiK,KAAK,mBAAmB,wBAAwB,0BAA0B,gBAAgB,aAAa,0FAA0F,8CAA8C,6DAA6D,qBAAqB,qCAAqC,+BAA+B,sBAAsB,OAAO,mDAAmD,QAAQ,gDAAgD,iCAAiC,0BAA0B,4BAA4B,0BAA0B,kBAAkB,4BAA4B,+EAA+E,KAAK,kBAAkB,gGAAgG,aAAa,0FAA0F,mCAAmC,6DAA6D,YAAY,aAAa,iBAAiB,iCAAiC,+BAA+B,6BAA6B,YAAY,+BAA+B,sBAAsB,OAAO,mEAAmE,QAAQ,+CAA+C,gCAAgC,yBAAyB,8BAA8B,8BAA8B,6DAA6D,KAAK,yBAAyB,oGAAoG,+BAA+B,kCAAkC,sBAAsB,2BAA2B,0HAA0H,yCAAyC,wEAAwE,QAAQ,oDAAoD,qCAAqC,8BAA8B,qCAAqC,+BAA+B,mCAAmC,sBAAsB,OAAO,iHAAiH,yCAAyC,wEAAwE,QAAQ,oDAAoD,qCAAqC,8BAA8B,4BAA4B,0BAA0B,kBAAkB,4BAA4B,2EAA2E,KAAK,oBAAoB;AAC7lG;AACA,iBAAiB;AACF,+D;;ACLf;AACA,EAAE,mBAAO,CAAC,MAAkZ;AAC5Z;AACA,yBAAyB,mBAAO,CAAC,MAA4D;AAC7F;AAC6G;AACa;AAC1H;AACgX;AAChX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAc;AAChB,EAAE,iBAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,4GAAiB","file":"static/js/19.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-19464738\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/user/forget.vue\n// module id = lkAa\n// module chunks = 19","<template>\n    <div class=\"forget\">\n        <navigate position=\"absolute\" color=\"#fff\" backgroundColor=\"#3899D7\"\n                  :title=\"step[currentStep].title\" :backText=\"step[currentStep].backText\"\n                  @back=\"onBack\" back/>\n        <div class=\"forget-form\">\n            <!-- 第一步 -->\n            <mu-form class=\"step-1-form\" v-show=\"currentStep === 0\" :model=\"form\"\n                     label-position=\"left\" label-width=\"80\" ref=\"form\">\n                <mu-form-item class=\"form-item mt-20\" label=\"手机号码\" prop=\"phone\">\n                    <mu-text-field v-model=\"form.phone\" placeholder=\"请输入您的手机号\" solo full-width/>\n                </mu-form-item>\n                <div class=\"form-button\">\n                    <mu-button class=\"button\" color=\"#fff\"\n                               :disabled=\"validateFirst !== '获取手机验证码'\"\n                               @click=\"next\"\n                               large flat>\n                        获取手机验证码\n                    </mu-button>\n                </div>\n                <!-- <div class=\"cue\">\n                    提示：如果您原来的手机号已经停用了，请拨打航道通客服热线\n                    <span class=\"num\">400-050-200</span>\n                </div> -->\n            </mu-form>\n            <!-- 第一步 -->\n\n            <!-- 第二步 -->\n            <mu-form class=\"step-2-form\" v-show=\"currentStep === 1\" :model=\"form\"\n                     label-position=\"left\" label-width=\"80\">\n                <div style=\"height: 20px\"></div>\n                <!-- 验证码 -->\n                <mu-form-item class=\"form-item\" prop=\"code\" label=\"验证码\">\n                    <div class=\"validate-wrapper\">\n                        <mu-text-field v-model=\"form.code\" placeholder=\"4位数短信验证码\" type=\"number\" solo full-width/>\n                        <mu-button class=\"code-btn\" color=\"primary\"\n                                   :disabled=\"validate.disabled\"\n                                   @click=\"getValidate\"\n                                   flat>{{validate.text}}\n                        </mu-button>\n                    </div>\n                </mu-form-item>\n                <!-- 验证码 -->\n                <!-- 密码 -->\n                <mu-form-item class=\"form-item\" prop=\"password1\" label=\"新密码\">\n                    <mu-text-field v-model=\"form.password1\" placeholder=\"6-20位字母、数字和符号\" class=\"input\"\n                                   :action-icon=\"visibility1 ? 'visibility' : 'visibility_off'\"\n                                   :action-click=\"() => {this.visibility1 = !this.visibility1}\"\n                                   :type=\"visibility1 ? 'text' : 'password'\"\n                                   solo full-width/>\n                </mu-form-item>\n                <!-- 密码 -->\n                <!-- 再次确认 -->\n                <mu-form-item class=\"form-item\" prop=\"password2\" label=\"确认密码\">\n                    <mu-text-field v-model=\"form.password2\" placeholder=\"确认密码\"\n                                   :action-icon=\"visibility2 ? 'visibility' : 'visibility_off'\"\n                                   :action-click=\"() => {this.visibility2 = !this.visibility2}\"\n                                   :type=\"visibility2 ? 'text' : 'password'\"\n                                   solo full-width/>\n                </mu-form-item>\n                <!-- 再次确认 -->\n                <div class=\"form-button\">\n                    <mu-button class=\"button\" color=\"#fff\"\n                               :disabled=\"validateLast !== '立即更改'\"\n                               @click=\"forget\"\n                               large flat>{{validateLast}}\n                    </mu-button>\n                </div>\n            </mu-form>\n            <!-- 第二步 -->\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import Navigate from \"../../base/navigate/navigate\"\n    import {getValidate} from \"../../api/user\"\n    import {Validate} from \"../../storage\"\n    import {validate} from \"../../types/index\"\n    import {resetPassword} from \"../../api/user\"\n\n    export default {\n        name: \"forgetPwd\",\n        data() {\n            return {\n                /***\n                 * 步骤\n                 */\n                currentStep: 0,\n                step: [\n                    {title: '忘记密码', backText: ''},\n                    {title: '忘记密码', backText: '上一步'}\n                ],\n                /***\n                 * 是否查看密码\n                 */\n                visibility1: false,\n                visibility2: false,\n                /***\n                 * 表单\n                 */\n                form: {\n                    phone: \"\",\n                    code: \"\",\n                    password1: \"\",\n                    password2: \"\"\n                },\n                /***\n                 * 验证码\n                 */\n                validate: {\n                    timer: null,\n                    disable: false,\n                    text: '获取验证码',\n                    type: 2\n                }\n            }\n        },\n        computed: {\n            validateFirst() {\n                const phone = /^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))\\d{8}$/.test(this.form.phone)\n\n                if (!phone) {\n                    return '手机号码不正确'\n                }\n\n                return '获取手机验证码'\n            },\n            validateLast() {\n                const code = /^\\d{4}$/.test(this.form.code)\n                const password = /^[a-zA-Z\\d]{6,16}$/.test(this.form.password)\n\n                if (!code) {\n                    return '请输入正确的验证码'\n                }\n                if (!password) {\n                    return '请输入密码'\n                }\n                if (this.password1 !== this.password2) {\n                    return '两次密码不一致'\n                }\n\n                return '立即更改'\n            }\n        },\n        activated() {\n            this.form = {\n                phone: \"\",\n                code: \"\",\n                password1: \"\",\n                password2: \"\"\n            }\n        },\n        methods: {\n            // 返回上一步\n            onBack() {\n                if (this.currentStep > 0) {\n                    this.currentStep--\n                } else {\n                    this.$router.back()\n                }\n            },\n            // 下一步\n            next() {\n                if (this.currentStep === 0) {\n                    this.currentStep++\n\n                    !this.validate.disabled && this.getValidate()\n                }\n            },\n            // 获取验证码\n            getValidate() {\n                getValidate(this.validate.type, this.form.phone).then(res => {\n                    validate(this.validate)\n                })\n            },\n            forget() {\n                const data = {\n                    phone: this.form.phone,\n                    code: this.form.code,\n                    pwd: this.form.password1\n                }\n\n                resetPassword(data).then(res => {\n                    this.$toast('修改成功')\n\n                    this.$router.push('/login')\n                })\n            }\n        },\n        watch: {\n            'form.phone'(value) {\n                this.validate.phone = value\n\n                validate(this.validate, true)\n            }\n        },\n        components: {\n            Navigate\n        }\n    };\n</script>\n\n<style lang=\"stylus\" scoped>\n    @import '../../common/stylus/variable.styl';\n\n    .forget\n        padding-top 46px\n        width 100%\n        height 100%\n        background-color #efefef\n        overflow hidden\n        .prompt\n            padding 15px\n            font-size $font-size-ms\n        .forget-form\n            .form-item\n                display flex\n                align-items center\n                margin 0\n                padding 0 16px\n                background-color #fff\n                .validate-wrapper\n                    display flex\n                    align-items center\n                    justify-content center\n                    width 100%\n                    height 32px\n                    .input\n                        flex 1\n                &.mt-20\n                    margin-top 20px\n                >>> .mu-input-action-icon\n                    color #cecece\n                .code-btn\n                    width 110px\n                    border-radius 6px\n                    background #f9f9f9\n                    border 1px solid #e8e8e8\n                    >>> .mu-button-wrapper\n                        padding 0\n                        font-size 12px\n            .form-button\n                padding 20px 10px\n                .button\n                    width 100%\n                    background-color #2196f3\n                .button.disabled\n                    background-color #e6e6e6\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/forget.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forget\"},[_c('navigate',{attrs:{\"position\":\"absolute\",\"color\":\"#fff\",\"backgroundColor\":\"#3899D7\",\"title\":_vm.step[_vm.currentStep].title,\"backText\":_vm.step[_vm.currentStep].backText,\"back\":\"\"},on:{\"back\":_vm.onBack}}),_vm._v(\" \"),_c('div',{staticClass:\"forget-form\"},[_c('mu-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentStep === 0),expression:\"currentStep === 0\"}],ref:\"form\",staticClass:\"step-1-form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('mu-form-item',{staticClass:\"form-item mt-20\",attrs:{\"label\":\"手机号码\",\"prop\":\"phone\"}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入您的手机号\",\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-button\"},[_c('mu-button',{staticClass:\"button\",attrs:{\"color\":\"#fff\",\"disabled\":_vm.validateFirst !== '获取手机验证码',\"large\":\"\",\"flat\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"\\n                    获取手机验证码\\n                \")])],1)],1),_vm._v(\" \"),_c('mu-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentStep === 1),expression:\"currentStep === 1\"}],staticClass:\"step-2-form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('div',{staticStyle:{\"height\":\"20px\"}}),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"code\",\"label\":\"验证码\"}},[_c('div',{staticClass:\"validate-wrapper\"},[_c('mu-text-field',{attrs:{\"placeholder\":\"4位数短信验证码\",\"type\":\"number\",\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_vm._v(\" \"),_c('mu-button',{staticClass:\"code-btn\",attrs:{\"color\":\"primary\",\"disabled\":_vm.validate.disabled,\"flat\":\"\"},on:{\"click\":_vm.getValidate}},[_vm._v(_vm._s(_vm.validate.text)+\"\\n                    \")])],1)]),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"password1\",\"label\":\"新密码\"}},[_c('mu-text-field',{staticClass:\"input\",attrs:{\"placeholder\":\"6-20位字母、数字和符号\",\"action-icon\":_vm.visibility1 ? 'visibility' : 'visibility_off',\"action-click\":function () {this$1.visibility1 = !this$1.visibility1},\"type\":_vm.visibility1 ? 'text' : 'password',\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.password1),callback:function ($$v) {_vm.$set(_vm.form, \"password1\", $$v)},expression:\"form.password1\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"password2\",\"label\":\"确认密码\"}},[_c('mu-text-field',{attrs:{\"placeholder\":\"确认密码\",\"action-icon\":_vm.visibility2 ? 'visibility' : 'visibility_off',\"action-click\":function () {this$1.visibility2 = !this$1.visibility2},\"type\":_vm.visibility2 ? 'text' : 'password',\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.password2),callback:function ($$v) {_vm.$set(_vm.form, \"password2\", $$v)},expression:\"form.password2\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-button\"},[_c('mu-button',{staticClass:\"button\",attrs:{\"color\":\"#fff\",\"disabled\":_vm.validateLast !== '立即更改',\"large\":\"\",\"flat\":\"\"},on:{\"click\":_vm.forget}},[_vm._v(_vm._s(_vm.validateLast)+\"\\n                \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19464738\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/forget.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19464738\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19464738\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-19464738\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/forget.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}