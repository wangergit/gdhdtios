{"version":3,"sources":["webpack:///./src/views/user/forget.vue?832f","webpack:///src/views/user/forget.vue","webpack:///./src/views/user/forget.vue?3f40","webpack:///./src/views/user/forget.vue"],"names":[],"mappings":";;;;;;;;;;;;AAAA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2EA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBADA;AAEA,QAFA,kBAEA;AACA;AACA;AACA,0BAFA;AAGA,0BAHA;AAIA,mBACA,+BADA,EAEA,kCAFA,CAJA;AAQA;AACA,8BATA;AAUA,8BAVA;AAWA;AACA;AACA,yBADA;AAEA,wBAFA;AAGA,6BAHA;AAIA;AAJA,aAZA;AAkBA;AACA;AACA,2BADA;AAEA,8BAFA;AAGA,6BAHA;AAIA;AAJA;AAnBA;AA0BA,KA7BA;;AA8BA;AACA,qBADA,2BACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SATA;AAUA,oBAVA,0BAUA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAnCA,KA9BA;AAmEA,aAnEA,uBAmEA;AACA;AACA,qBADA;AAEA,oBAFA;AAGA,yBAHA;AAIA;AAJA;;AAOA;AACA,KA5EA;;AA6EA;AACA;AACA,cAFA,oBAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,SARA;;AASA;AACA,YAVA,kBAUA;AACA;AACA;AACA;AACA,SAdA;;AAeA;AACA,mBAhBA,yBAgBA;AAAA;;AACA,YAAY,oCAAZ;AACA;AACA,gBAAgB,kCAAhB;AACA,aAHA;AAIA,SArBA;AAsBA,cAtBA,oBAsBA;AAAA;;AACA;AACA;AACA,sCADA;AAEA,oCAFA;AAGA;AAHA;;AAMA,YAAY,sCAAZ;AACA;;AAEA;AACA;AACA,aALA,EAKA,KALA,CAKA;AACA;AACA,aAPA;AAQA;AAtCA,KA7EA;AAqHA;AACA,oBADA,qBACA,KADA,EACA;AACA;;AAEA,YAAY,kCAAZ;AACA;AALA,KArHA;AA4HA;AACA;AADA;AA5HA,G;;ACjFA;AACA;AACA,aAAa,0BAA0B,wBAAwB,iBAAiB,qBAAqB,iBAAiB,OAAO,iKAAiK,KAAK,mBAAmB,wBAAwB,0BAA0B,YAAY,aAAa,0FAA0F,EAAE,gBAAgB,4CAA4C,6DAA6D,qBAAqB,mDAAmD,+BAA+B,sBAAsB,OAAO,mDAAmD,QAAQ,gDAAgD,iCAAiC,0BAA0B,sCAAsC,qDAAqD,+EAA+E,KAAK,kBAAkB,sGAAsG,aAAa,0FAA0F,EAAE,gBAAgB,OAAO,6DAA6D,qBAAqB,0DAA0D,6BAA6B,YAAY,sBAAsB,sBAAsB,OAAO,mDAAmD,QAAQ,+CAA+C,gCAAgC,yBAAyB,8BAA8B,OAAO,wEAAwE,KAAK,yBAAyB,yIAAyI,0DAA0D,kCAAkC,sBAAsB,2BAA2B,0HAA0H,yCAAyC,+EAA+E,QAAQ,oDAAoD,qCAAqC,8BAA8B,qCAAqC,0DAA0D,mCAAmC,sBAAsB,OAAO,iHAAiH,yCAAyC,+EAA+E,QAAQ,oDAAoD,qCAAqC,8BAA8B,sCAAsC,aAAa,4EAA4E,uDAAuD,qHAAqH,KAAK,oBAAoB;AAC/wG;AACA,iBAAiB;AACF,+D;;ACLf;AACA,EAAE,mBAAO,CAAC,MAAkZ;AAC5Z;AACA,yBAAyB,mBAAO,CAAC,MAA4D;AAC7F;AAC6G;AACa;AAC1H;AACgX;AAChX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAc;AAChB,EAAE,iBAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,4GAAiB","file":"static/js/19.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2325627c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/user/forget.vue\n// module id = lQwF\n// module chunks = 19","<template>\r\n    <div class=\"forget\">\r\n        <navigate position=\"absolute\" color=\"#fff\" backgroundColor=\"#3899D7\"\r\n                  :title=\"step[currentStep].title\" :backText=\"step[currentStep].backText\"\r\n                  @back=\"onBack\" back/>\r\n        <div class=\"forget-form\">\r\n            <!-- 第一步 -->\r\n            <div v-show=\"currentStep === 0\">\r\n                <mu-form class=\"paper mb-10\" :model=\"form\" label-position=\"left\" label-width=\"80\" ref=\"form\">\r\n                    <mu-form-item class=\"pl-15 pr-15 pt-10 pb-10 mt-20\" label=\"手机号码\" prop=\"phone\">\r\n                        <mu-text-field v-model=\"form.phone\" placeholder=\"请输入您的手机号\" solo full-width/>\r\n                    </mu-form-item>\r\n                    <!-- <div class=\"cue\">\r\n                        提示：如果您原来的手机号已经停用了，请拨打航道通客服热线\r\n                        <span class=\"num\">400-050-200</span>\r\n                    </div> -->\r\n                </mu-form>\r\n\r\n                <mu-button class=\"db ma w90 background-primary bg\" color=\"#fff\"\r\n                           :disabled=\"validateFirst !== '获取手机验证码'\"\r\n                           @click=\"next\" large\r\n                           flat>\r\n                    {{validateFirst}}\r\n                </mu-button>\r\n            </div>\r\n            <!-- 第一步 -->\r\n\r\n            <!-- 第二步 -->\r\n            <div v-show=\"currentStep === 1\">\r\n                <mu-form :model=\"form\" label-position=\"left\" label-width=\"80\">\r\n                    <!-- 验证码 -->\r\n                    <mu-form-item class=\"pl-15 pr-15 pt-10 pb-10 border-1px-b\" prop=\"code\" label=\"验证码\">\r\n                        <div class=\"flex mn\">\r\n                            <mu-text-field v-model=\"form.code\" placeholder=\"4位数短信验证码\" type=\"number\" solo/>\r\n                            <mu-button color=\"primary\" :disabled=\"validate.disabled\" @click=\"getValidate\" small flat>\r\n                                {{validate.text}}\r\n                            </mu-button>\r\n                        </div>\r\n                    </mu-form-item>\r\n                    <!-- 验证码 -->\r\n                    <!-- 密码 -->\r\n                    <mu-form-item class=\"pl-15 pr-15 pt-10 pb-10 border-1px-b\" prop=\"password1\" label=\"新密码\">\r\n                        <mu-text-field v-model=\"form.password1\" placeholder=\"6-20位字母、数字和符号\" class=\"input\"\r\n                                       :action-icon=\"visibility1 ? 'visibility' : 'visibility_off'\"\r\n                                       :action-click=\"() => {this.visibility1 = !this.visibility1}\"\r\n                                       :type=\"visibility1 ? 'message.vue' : 'password'\"\r\n                                       solo full-width/>\r\n                    </mu-form-item>\r\n                    <!-- 密码 -->\r\n                    <!-- 再次确认 -->\r\n                    <mu-form-item class=\"pl-15 pr-15 pt-10 pb-10 border-1px-b\" prop=\"password2\" label=\"确认密码\">\r\n                        <mu-text-field v-model=\"form.password2\" placeholder=\"确认密码\"\r\n                                       :action-icon=\"visibility2 ? 'visibility' : 'visibility_off'\"\r\n                                       :action-click=\"() => {this.visibility2 = !this.visibility2}\"\r\n                                       :type=\"visibility2 ? 'message.vue' : 'password'\"\r\n                                       solo full-width/>\r\n                    </mu-form-item>\r\n                    <!-- 再次确认 -->\r\n                </mu-form>\r\n\r\n                <mu-button class=\"db ma w90 background-primary bg\" color=\"#fff\" v-loading=\"loading\"\r\n                           data-mu-loading-size=\"24\"\r\n                           :disabled=\"loading ||validateLast !== '立即更改'\"\r\n                           @click=\"forget\" large\r\n                           flat>\r\n                    {{validateLast}}\r\n                </mu-button>\r\n            </div>\r\n            <!-- 第二步 -->\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Navigate from \"../../base/navigate/navigate\"\r\n    import {getValidate} from \"../../api/user\"\r\n    import {Validate} from \"../../storage\"\r\n    import {validate} from \"../../types/index\"\r\n    import {resetPassword} from \"../../api/user\"\r\n\r\n    export default {\r\n        name: \"forgetPwd\",\r\n        data() {\r\n            return {\r\n                // 步骤\r\n                currentStep: 0,\r\n                loading: false,\r\n                step: [\r\n                    {title: '忘记密码', backText: ''},\r\n                    {title: '忘记密码', backText: '上一步'}\r\n                ],\r\n                // 是否查看密码\r\n                visibility1: false,\r\n                visibility2: false,\r\n                // 表单\r\n                form: {\r\n                    phone: \"\",\r\n                    code: \"\",\r\n                    password1: \"\",\r\n                    password2: \"\"\r\n                },\r\n                // 验证码\r\n                validate: {\r\n                    timer: null,\r\n                    disable: false,\r\n                    text: '获取验证码',\r\n                    type: 2\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            validateFirst() {\r\n                const phone = /^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))\\d{8}$/.test(this.form.phone)\r\n\r\n                if (!phone) {\r\n                    return '手机号码不正确'\r\n                }\r\n\r\n                return '获取手机验证码'\r\n            },\r\n            validateLast() {\r\n                const code = /^\\d{4,}$/.test(this.form.code)\r\n                const password1 = /^[a-zA-Z\\d]{6,16}$/.test(this.form.password1)\r\n\r\n                if (!code) {\r\n                    return '请输入正确的验证码'\r\n                }\r\n\r\n                if (!this.form.password1) {\r\n                    return '请输入新密码'\r\n                }\r\n\r\n                if (!password1) {\r\n                    return '请输入正确的新密码'\r\n                }\r\n\r\n                if (!this.form.password2) {\r\n                    return '请再次输入新密码'\r\n                }\r\n\r\n                if (this.form.password1 !== this.form.password2) {\r\n                    return '两次输入的新密码不一致'\r\n                }\r\n\r\n                return '立即更改'\r\n            }\r\n        },\r\n        activated() {\r\n            this.form = {\r\n                phone: \"\",\r\n                code: \"\",\r\n                password1: \"\",\r\n                password2: \"\"\r\n            }\r\n\r\n            this.currentStep = 0\r\n        },\r\n        methods: {\r\n            // 返回上一步\r\n            onBack() {\r\n                if (this.currentStep > 0) {\r\n                    this.currentStep--\r\n                } else {\r\n                    this.$router.back()\r\n                }\r\n            },\r\n            // 下一步\r\n            next() {\r\n                if (this.currentStep === 0) {\r\n                    !this.validate.disabled && this.getValidate()\r\n                }\r\n            },\r\n            // 获取验证码\r\n            getValidate() {\r\n                getValidate(this.validate.type, this.form.phone).then(res => {\r\n                    this.currentStep=1;\r\n                    validate(this.validate)\r\n                })\r\n            },\r\n            forget() {\r\n                this.loading = true\r\n                const data = {\r\n                    phone: this.form.phone,\r\n                    code: this.form.code,\r\n                    pwd: this.form.password1\r\n                }\r\n\r\n                resetPassword(data).then(res => {\r\n                    this.$toast('修改成功')\r\n\r\n                    this.loading = false\r\n                    this.$router.push({name:'login'})\r\n                }).catch(err => {\r\n                    this.loading = false\r\n                })\r\n            }\r\n        },\r\n        watch: {\r\n            'form.phone'(value) {\r\n                this.validate.phone = value\r\n\r\n                validate(this.validate, true)\r\n            }\r\n        },\r\n        components: {\r\n            Navigate\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    @import '../../common/stylus/variable.styl';\r\n\r\n    .forget\r\n        padding-top 46px\r\n        overflow hidden\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/forget.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forget\"},[_c('navigate',{attrs:{\"position\":\"absolute\",\"color\":\"#fff\",\"backgroundColor\":\"#3899D7\",\"title\":_vm.step[_vm.currentStep].title,\"backText\":_vm.step[_vm.currentStep].backText,\"back\":\"\"},on:{\"back\":_vm.onBack}}),_vm._v(\" \"),_c('div',{staticClass:\"forget-form\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentStep === 0),expression:\"currentStep === 0\"}]},[_c('mu-form',{ref:\"form\",staticClass:\"paper mb-10\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('mu-form-item',{staticClass:\"pl-15 pr-15 pt-10 pb-10 mt-20\",attrs:{\"label\":\"手机号码\",\"prop\":\"phone\"}},[_c('mu-text-field',{attrs:{\"placeholder\":\"请输入您的手机号\",\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1)],1),_vm._v(\" \"),_c('mu-button',{staticClass:\"db ma w90 background-primary bg\",attrs:{\"color\":\"#fff\",\"disabled\":_vm.validateFirst !== '获取手机验证码',\"large\":\"\",\"flat\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"\\n                \"+_vm._s(_vm.validateFirst)+\"\\n            \")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentStep === 1),expression:\"currentStep === 1\"}]},[_c('mu-form',{attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"80\"}},[_c('mu-form-item',{staticClass:\"pl-15 pr-15 pt-10 pb-10 border-1px-b\",attrs:{\"prop\":\"code\",\"label\":\"验证码\"}},[_c('div',{staticClass:\"flex mn\"},[_c('mu-text-field',{attrs:{\"placeholder\":\"4位数短信验证码\",\"type\":\"number\",\"solo\":\"\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_vm._v(\" \"),_c('mu-button',{attrs:{\"color\":\"primary\",\"disabled\":_vm.validate.disabled,\"small\":\"\",\"flat\":\"\"},on:{\"click\":_vm.getValidate}},[_vm._v(\"\\n                            \"+_vm._s(_vm.validate.text)+\"\\n                        \")])],1)]),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"pl-15 pr-15 pt-10 pb-10 border-1px-b\",attrs:{\"prop\":\"password1\",\"label\":\"新密码\"}},[_c('mu-text-field',{staticClass:\"input\",attrs:{\"placeholder\":\"6-20位字母、数字和符号\",\"action-icon\":_vm.visibility1 ? 'visibility' : 'visibility_off',\"action-click\":function () {this$1.visibility1 = !this$1.visibility1},\"type\":_vm.visibility1 ? 'message.vue' : 'password',\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.password1),callback:function ($$v) {_vm.$set(_vm.form, \"password1\", $$v)},expression:\"form.password1\"}})],1),_vm._v(\" \"),_c('mu-form-item',{staticClass:\"pl-15 pr-15 pt-10 pb-10 border-1px-b\",attrs:{\"prop\":\"password2\",\"label\":\"确认密码\"}},[_c('mu-text-field',{attrs:{\"placeholder\":\"确认密码\",\"action-icon\":_vm.visibility2 ? 'visibility' : 'visibility_off',\"action-click\":function () {this$1.visibility2 = !this$1.visibility2},\"type\":_vm.visibility2 ? 'message.vue' : 'password',\"solo\":\"\",\"full-width\":\"\"},model:{value:(_vm.form.password2),callback:function ($$v) {_vm.$set(_vm.form, \"password2\", $$v)},expression:\"form.password2\"}})],1)],1),_vm._v(\" \"),_c('mu-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"db ma w90 background-primary bg\",attrs:{\"color\":\"#fff\",\"data-mu-loading-size\":\"24\",\"disabled\":_vm.loading ||_vm.validateLast !== '立即更改',\"large\":\"\",\"flat\":\"\"},on:{\"click\":_vm.forget}},[_vm._v(\"\\n                \"+_vm._s(_vm.validateLast)+\"\\n            \")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2325627c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/forget.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2325627c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2325627c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2325627c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/forget.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}